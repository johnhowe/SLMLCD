<HTML>
<HEAD>
<TITLE>../../public_html/softpack-1.5/at91sam7s-ek - USB Device Framework Usage</TITLE>
<script type="text/javascript" src="../../../common/js.js" language="JavaScript"></script>
<script type="text/javascript" src="leftmenu.js" language="JavaScript"></script>
<script type="text/javascript">
 var relPathToCommmon = "../../../common/";
 var relPathToHelpDir = "../../../common/help/";
 var toSearchPage     = "_search','../../../search";
 Body1();
</script>
<div class="headerPage">USB Device Framework Usage</div>
<div class="path"><a href="#" OnMouseOver="link('','../../../index',this)" class="pathLink">Default mainpage</A><img src="../../../common/path-arrow.gif" class="path-arrow"><a href="#" OnMouseOver="link('_dir','../at91lib0',this)" class="pathLink">at91lib</A><img src="../../../common/path-arrow.gif" class="path-arrow"><a href="#" OnMouseOver="link('_dir','usb0',this)" class="pathLink">usb</A><img src="../../../common/path-arrow.gif" class="path-arrow"><span class="pathNonLink">USB Device Framework Usage</span></div>
<script type="text/javascript">
 Body2();
 BodyLeftMenuStart();
WriteLeftMenu("divID5454","aID5454","LeftMenuActive","leftMenuLinkActive");
 BodyLeftMenuEnd();
 Body3();
</script>
<span class="tabActive"><a href="#" OnMouseOver="linkTab('_page','USBDeviceFrameworkUsage0','_description',this)" class="tabLinkActive">Description</a></span>
<script type="text/javascript">
 Body4();
</script>
<div class="contentAirTop"></div>
<span class="paragraph1">usb.dir::USB Device Framework Usage</span>
<div class="padding">&nbsp;</div>
<table cellspacing=0 cellpadding=0 border=0 class="widthAndBorderTop" height=1>
<TR><TD height=1 width=100% class="oneLine"></TD></TR></TABLE>
<div class="padding"><div class="userParagraph1">File Architecture</div>
The USB framework is made up of the following files: <a href="#" OnMouseOver="link('_dir','../at91lib0',this)">at91lib</a>\<a href="#" OnMouseOver="link('_dir','../boards/boards0',this)">boards</a>: device register definition, board-related code and device startup code in assembly language<br>
 <a href="#" OnMouseOver="link('_dir','../at91lib0',this)">at91lib</a>\<a href="#" OnMouseOver="link('_dir','../utility/utility0',this)">utility</a>: debug methods and definitions<br>
 <a href="#" OnMouseOver="link('_dir','../at91lib0',this)">at91lib</a>\<a href="#" OnMouseOver="link('_dir','../peripherals/peripherals0',this)">peripherals</a>\<a href="#" OnMouseOver="link('_dir','../peripherals/dbgu/dbgu0',this)">dbgu</a>: DBGU port usage for debug<br>
 <a href="#" OnMouseOver="link('_dir','../at91lib0',this)">at91lib</a>\<a href="#" OnMouseOver="link('_dir','../peripherals/peripherals0',this)">peripherals</a>\<a href="#" OnMouseOver="link('_dir','../peripherals/pio/pio0',this)">pio</a>: PIO interface usage for Vbus ...<br>
 <a href="#" OnMouseOver="link('_dir','../at91lib0',this)">at91lib</a>\<a href="#" OnMouseOver="link('_dir','../peripherals/peripherals0',this)">peripherals</a>\<a href="#" OnMouseOver="link('_dir','../peripherals/aic/aic0',this)">aic</a>: Interrupt configurationi functions<br>
 <a href="#" OnMouseOver="link('_dir','../at91lib0',this)">at91lib</a>\<a href="#" OnMouseOver="link('_dir','usb0',this)">usb</a>\<a href="#" OnMouseOver="link('_dir','common/common0',this)">common</a>\<a href="#" OnMouseOver="link('_dir','device/core/core0',this)">core</a>: structures and methods of standard descriptors and requests<br>
 <a href="#" OnMouseOver="link('_dir','../at91lib0',this)">at91lib</a>\<a href="#" OnMouseOver="link('_dir','usb0',this)">usb</a>\<a href="#" OnMouseOver="link('_dir','device/device0',this)">device</a>\<a href="#" OnMouseOver="link('_dir','device/core/core0',this)">core</a>: UDP controller driver methods and USBD API definitions<br>
 usb-device-core-project: basic enumeration program, with <a href="#" OnMouseOver="link('_unit','../../usb-device-massstorage-project/main_c0',this)">main.c</a> and Makefile to build the project<br>
<br>
<br>
</div>
<div class="padding"><div class="userParagraph1">Headers</div>
 When programming your own application, most if not all the headers described in the file architecture of the framework must be included. However, since each header has its own dependencies, they must be included in a particular order.<br>
<br>
</div>
<div class="padding">Here is the standard inclusion order:<br>
  <table cellspacing=0 cellpadding=0 border=0 class="widthAndBorderMembers">
  <TR VALIGN="top">
  <TD class="paddingHeadMultiColumn2">
<pre class="codeExamples">
#include &lt;<a href="#" onMouseOver="link('_file','common/core/USBGenericDescriptor_h0',this); ">usb/common/core/USBGenericDescriptor.h</a>&gt;
#include &lt;<a href="#" onMouseOver="link('_file','common/core/USBDeviceDescriptor_h0',this); ">usb/common/core/USBDeviceDescriptor.h</a>&gt;
#include &lt;<a href="#" onMouseOver="link('_file','common/core/USBConfigurationDescriptor_h0',this); ">usb/common/core/USBConfigurationDescriptor.h</a>&gt;
#include &lt;<a href="#" onMouseOver="link('_file','common/core/USBInterfaceDescriptor_h0',this); ">usb/common/core/USBInterfaceDescriptor.h</a>&gt;
#include &lt;<a href="#" onMouseOver="link('_file','common/core/USBGenericRequest_h0',this); ">usb/common/core/USBGenericRequest.h</a>&gt;
#include &lt;<a href="#" onMouseOver="link('_file','device/core/USBD_h0',this); ">usb/device/core/USBD.h</a>&gt;
#include &lt;<a href="#" onMouseOver="link('_file','device/core/USBDDriver_h0',this); ">usb/device/core/USBDDriver.h</a>&gt;
#include &lt;<a href="#" onMouseOver="link('_file','device/core/USBDDriverDescriptors_h0',this); ">usb/device/core/USBDDriverDescriptors.h</a>&gt;
#include &lt;<a href="#" onMouseOver="link('_file','device/core/USBDCallbacks_h0',this); ">usb/device/core/USBDCallbacks.h</a>&gt;
</pre>  </TD>
  </TR>
  </TABLE>
If a custom class driver has been added, then its header must probably be linked last.<br>
<br>
</div>
<div class="padding"><div class="userParagraph1">Building the Framework</div>
 A Makefile is provided to make it easier to compile the framework. The <em>make</em> program and arm-elf-gcc is necessary to use it.<br>
<br>
</div>
<div class="padding">Several options are available to build the framework in different ways:<ul>
<li>CHIP<ul>
<li>Target chip for which to build the program.</li>
<li>Possible values: at91sam7s64, <a href="#" OnMouseOver="link('_dir','../boards/at91sam7s-ek/at91sam7s128/at91sam7s1280',this)">at91sam7s128</a>, at91sam7s256, at91sam7s512, at91sam7s321, at91sam7se32, at91sam7se256, at91sam7se512, at91sam7x128, at91sam7x256, at91sam7s512, at91sam7xc128, at91sam7xc256, at91sam7xc512, at91sam9260, at91sam9261, at91sam9263</li>
<li>Default: at91sam7s256</li>
</ul>

</li>
<li>BOARD<ul>
<li>Board used with the chip.</li>
<li>Possible values: at91sam7s-ek, at91sam7se-ek, at91sam7x-ek, at91sam7xc-ek, at91sam7a3-ek, at91sam9260-ek, at91sam9261-ek, at91sam9263-ek</li>
<li>Default: at91sam7s-ek</li>
</ul>

</li>
</ul>

</div>
<div class="padding">&nbsp;</div>
<table cellspacing=0 cellpadding=0 border=0 class="widthAndBorderTop" height=1>
<TR><TD height=1 width=100% class="oneLine"></TD></TR></TABLE>
<div class="paragraph2">Source</div>
<div class="paddingMembers">The documentation for this Page was generated from the following file:</div>
<div class="paddingMembers"><LI>usb.dir<br></div>
<div class="contentAirBottom"></div>
<script type="text/javascript">
 Body5();
Statistics("","","","","");
 Body6();
SetPageTab('_page','_description');
</script>
