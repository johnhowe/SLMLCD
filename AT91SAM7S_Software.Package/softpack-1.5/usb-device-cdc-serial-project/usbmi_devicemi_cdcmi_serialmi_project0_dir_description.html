<HTML>
<HEAD>
<TITLE>../../public_html/softpack-1.5/at91sam7s-ek - usb-device-cdc-serial-project</TITLE>
<script type="text/javascript" src="../../common/js.js" language="JavaScript"></script>
<script type="text/javascript" src="leftmenu.js" language="JavaScript"></script>
<script type="text/javascript">
 var relPathToCommmon = "../../common/";
 var relPathToHelpDir = "../../common/help/";
 var toSearchPage     = "_search','../../search";
 Body1();
</script>
<div class="headerPage">usb-device-cdc-serial-project</div>
<div class="path"><a href="#" OnMouseOver="link('','../../index',this)" class="pathLink">Default mainpage</A><img src="../../common/path-arrow.gif" class="path-arrow"><span class="pathNonLink">usb-device-cdc-serial-project</span></div>
<script type="text/javascript">
 Body2();
 BodyLeftMenuStart();
WriteLeftMenu("divID5515","aID5515","headerLeftMenuActive","leftMenuLinkHeadActive");
 BodyLeftMenuEnd();
 Body3();
</script>
<span class="tabActive"><a href="#" OnMouseOver="linkTab('_dir','usbmi_devicemi_cdcmi_serialmi_project0','_description',this)" class="tabLinkActive">Description</a></span>
<span class="tabInActive"><a href="#" OnMouseOver="linkTab('_dir','usbmi_devicemi_cdcmi_serialmi_project0','_dirgraph',this)" class="tabLinkInActive">Graph</a></span>
<script type="text/javascript">
 Body4();
</script>
<div class="contentAirTop"></div>
<span class="paragraph1">usb-device-cdc-serial-project</span>
<div class="padding">&nbsp;</div>
<table cellspacing=0 cellpadding=0 border=0 class="widthAndBorderTop" height=1>
<TR><TD height=1 width=100% class="oneLine"></TD></TR></TABLE>
<div class="padding"><div class="userParagraph1">Purpose</div>
The USB CDC Serial Project will help you to get familiar with the USB Device Port(UDP) and USART interface on AT91SAM microcontrollers. Also it can help you to be familiar with the USB Framework that is used for rapid development of USB-compliant class <a href="#" OnMouseOver="link('_dir','../at91lib/drivers/drivers0',this)">drivers</a> such as USB Communication Device class (CDC).<br>
<br>
</div>
<div class="padding">You can find following information depends on your needs:<ul>
<li>Sample usage of USB CDC driver and USART driver.</li>
<li>USB CDC driver development based on the AT91 USB Framework.</li>
<li>USB enumerate sequence, the standard and class-specific descriptors and requests handling.</li>
<li>The initialize sequence and usage of UDP interface.</li>
<li>The initialize sequence and usage of USART interface with PDC.</li>
</ul>

<br>
</div>
<div class="padding"><div class="userParagraph3">See</div>
<ul>
<li><a href="#" OnMouseOver="link('_dir','../at91lib/peripherals/usart/usart0',this)">usart</a>: USART interface driver</li>
<li><a href="#" OnMouseOver="link('_dir','../at91lib/peripherals/tc/tc0',this)">tc</a>: TIMER/COUNTER interface driver</li>
<li><a href="#" OnMouseOver="link('_dir','../at91lib/usb/usb0',this)">usb</a>: USB Framework, USB CDC driver and UDP interface driver<ul>
<li><a href="#" OnMouseOver="link('_page','../at91lib/usb/AT91USBdeviceframework0',this)">"AT91 USB device framework"</a><ul>
<li><a href="#" OnMouseOver="link('_page','../at91lib/usb/device/USBDAPI0',this)">"USBD API"</a></li>
</ul>

</li>
<li><a href="#" OnMouseOver="link('_dir','../at91lib/usb/device/cdc-serial/cdcmi_serial0',this)">"cdc-serial"</a><ul>
<li><a href="#" OnMouseOver="link('_page','../at91lib/usb/device/cdc-serial/USBCDCSerialDevice0',this)">"USB CDC Serial Device"</a></li>
<li><a href="#" OnMouseOver="link('_page','../at91lib/usb/device/cdc-serial/USBCDCSerialHostDriver0',this)">"USB CDC Serial Host Driver"</a></li>
</ul>

</li>
</ul>

</li>
</ul>

<br>
</div>
<div class="padding"><div class="userParagraph1">Requirements</div>
 This package can be used with all Atmel evaluation kits that have both UDP and USART interface.<br>
<br>
</div>
<div class="padding">The current supported board list:<ul>
<li>at91sam7s-ek (exclude at91sam7s32)</li>
<li>at91sam7x-ek</li>
<li>at91sam7xc-ek</li>
<li>at91sam7a3-ek</li>
<li>at91sam7se-ek</li>
<li>at91sam9260-ek</li>
<li>at91sam9263-ek</li>
</ul>

<br>
</div>
<div class="padding"><div class="userParagraph1">Description</div>
 When an EK running this program connected to a host (PC for example), with USB cable, the EK appears as a Seriao COM port for the host, after driver installation with the offered 6119.inf. Then the host can send or receive data through the port with host software. The data stream from the host is then sent to the EK, and forward to USART port of AT91SAM chips. The USART port of the EK is monitored by the timer and the incoming data will be sent to the host.<br>
<br>
</div>
<div class="padding"><div class="userParagraph1">Usage</div>
<ol>
<li>Build the program and download it inside the evaluation board. Please refer to the <a href="http://www.atmel.com/dyn/resources/prod_documents/doc6224.pdf">SAM-BA User Guide</a>, the <a href="http://www.atmel.com/dyn/resources/prod_documents/doc6310.pdf">GNU-Based Software Development</a> application note or to the <a href="ftp://ftp.iar.se/WWWfiles/arm/Guides/EWARM_UserGuide.ENU.pdf">IAR EWARM User Guide</a>, depending on your chosen solution.</li>
<li>On the computer, open and configure a terminal application (e.g. HyperTerminal on Microsoft Windows) with these settings:<ul>
<li>115200 bauds</li>
<li>8 bits of data</li>
<li>No parity</li>
<li>1 stop bit</li>
<li>No flow control</li>
</ul>

</li>
<li>Start the application.</li>
<li>In the terminal window, the following text should appear:   <table cellspacing=0 cellpadding=0 border=0 class="widthAndBorderMembers">
  <TR VALIGN="top">
  <TD class="paddingHeadMultiColumn2">
<pre class="codeExamples">
-- USB Device CDC Serial Project xxx --
-- AT91xxxxxx-xx
-- Compiled: xxx xx xxxx xx:xx:xx --
</pre>  </TD>
  </TR>
  </TABLE>
</li>
<li>When connecting USB cable to windows, the LED blinks, and the host reports a new USB device attachment (if it's the first time you connect an audio speaker demo board to your host). You can use the inf file <a href="#" OnMouseOver="link('_dir','../at91lib/at91lib0',this)">at91lib</a>\<a href="#" OnMouseOver="link('_dir','../at91lib/usb/usb0',this)">usb</a>\<a href="#" OnMouseOver="link('_dir','../at91lib/usb/device/device0',this)">device</a>\cdc-serial\<a href="#" OnMouseOver="link('_dir','../at91lib/usb/device/composite/drv/drv0',this)">drv</a>\6119.inf to install the serial port. Then new "AT91 USB to Serial Converter (COMx)" appears in the hardware device list.</li>
<li>You can run hyperterminal to send data to the port. And it can be seen at the other hyperterminal connected to the USART port of the EK.</li>
</ol>

</div>
<div class="padding">&nbsp;</div>
<table cellspacing=0 cellpadding=0 border=0 class="widthAndBorderTop" height=1>
<TR><TD height=1 width=100% class="oneLine"></TD></TR></TABLE>
<div class="paragraph2">Source</div>
<div class="paddingMembers">The documentation for this Directory was generated from the following files:</div>
<div class="paddingMembers"><LI>main.c<br></div>
<div class="contentAirBottom"></div>
<script type="text/javascript">
 Body5();
Statistics("","","","","");
 Body6();
SetPageTab('_dir','_description');
</script>
