\hypertarget{spi_8h}{
\section{spi.h File Reference}
\label{spi_8h}\index{spi.h@{spi.h}}
}
Routines for interfacing to the SPI bus. 

{\tt \#include \char`\"{}config.h\char`\"{}}\par
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define \hyperlink{spi_8h_730abfa1365910d6af77006b18f988e2}{SPI\_\-READY\_\-P}()~(AT91C\_\-BASE\_\-SPI $\rightarrow$ SPI\_\-SR \& AT91C\_\-SPI\_\-RDRF)
\item 
\#define \hyperlink{spi_8h_23a77aca98a2798c9b2b76d26ad2bef5}{SPI\_\-TXEMPTY\_\-P}()~(AT91C\_\-BASE\_\-SPI $\rightarrow$ SPI\_\-SR \& AT91C\_\-SPI\_\-TXEMPTY)
\item 
\#define \hyperlink{spi_8h_8227599d1d64afe75a04fe1c610e8385}{SPI\_\-CHANNEL\_\-MASK}(channel)~(0x0f $^\wedge$ BIT (channel))
\item 
\#define \hyperlink{spi_8h_c23577e814a399e383f01f9da66d83fe}{spi\_\-data\_\-order\_\-set}(data\_\-order)
\end{CompactItemize}
\subsection*{Typedefs}
\begin{CompactItemize}
\item 
typedef uint8\_\-t \hyperlink{spi_8h_7afa6d1cb2d865072da8ece3e3e1fc0e}{spi\_\-channel\_\-t}
\item 
typedef uint16\_\-t \hyperlink{spi_8h_c57b56a26da0f94bf544f07ce75e2731}{spi\_\-clock\_\-divisor\_\-t}
\end{CompactItemize}
\subsection*{Enumerations}
\begin{CompactItemize}
\item 
enum \{ \hyperlink{spi_8h_dc29c2ff13d900c2f185ee95427fb06c28d91db98bfef86c2e513e9e0cab31a2}{SPI\_\-CHANNEL0} =  0, 
\hyperlink{spi_8h_dc29c2ff13d900c2f185ee95427fb06ce01f25f2493c2b0a1406ee1371a2752d}{SPI\_\-CHANNEL1}, 
\hyperlink{spi_8h_dc29c2ff13d900c2f185ee95427fb06c4acd0d9734887e78aa4c50dfc78fcbfa}{SPI\_\-CHANNEL2}, 
\hyperlink{spi_8h_dc29c2ff13d900c2f185ee95427fb06c1b7e43cfe92e1412fc1d13622e099a6f}{SPI\_\-CHANNEL3}
 \}
\item 
enum \hyperlink{spi_8h_c4b206a51636d91c5cffcbcee458c3cb}{spi\_\-mode\_\-t} \{ \hyperlink{spi_8h_c4b206a51636d91c5cffcbcee458c3cb152359b11fb4b43ed0c5485eb0ab0673}{SPI\_\-MODE\_\-0} =  0, 
\hyperlink{spi_8h_c4b206a51636d91c5cffcbcee458c3cb7c1990cc15e9d69621be8e0e757e634c}{SPI\_\-MODE\_\-1} =  1, 
\hyperlink{spi_8h_c4b206a51636d91c5cffcbcee458c3cb4d350945d895a4acdc45ae96b0b82fc3}{SPI\_\-MODE\_\-2} =  2, 
\hyperlink{spi_8h_c4b206a51636d91c5cffcbcee458c3cbf06ec36087996d6f328df39866ff5de6}{SPI\_\-MODE\_\-3} =  3
 \}
\item 
enum \hyperlink{spi_8h_6640c5de2f7b503d75fa6ae8fef0aa7f}{spi\_\-data\_\-order\_\-t} \{ \hyperlink{spi_8h_6640c5de2f7b503d75fa6ae8fef0aa7f829782ace02bcba1db9c742b97f0e7a3}{SPI\_\-DATA\_\-MSB\_\-FIRST} =  0, 
\hyperlink{spi_8h_6640c5de2f7b503d75fa6ae8fef0aa7f1fafa86efbcf4a52b8645488442163db}{SPI\_\-DATA\_\-LSB\_\-FIRST} =  1
 \}
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
void \hyperlink{spi_8h_e909944aa85ae98323073c628be541aa}{spi\_\-init} (void)
\item 
void \hyperlink{spi_8h_5b69fa29433dea2b612a9d0bdedb3dd0}{spi\_\-shutdown} (void)
\item 
bool \hyperlink{spi_8h_8f6bbcf7a252d3e35cb993836b122257}{spi\_\-cs\_\-enable} (void)
\item 
bool \hyperlink{spi_8h_40cb631262c9ad769f1953ea7c09a065}{spi\_\-cs\_\-disable} (void)
\item 
bool \hyperlink{spi_8h_8a9ac2da9a32737d3209ff42451ab134}{spi\_\-read\_\-ready\_\-p} (void)
\item 
uint8\_\-t \hyperlink{spi_8h_dd760b5484c2e63c5fb18517c99ac4e2}{spi\_\-getc} (void)
\item 
bool \hyperlink{spi_8h_d07252a3fc56d2efddf3b7597a2b5f6e}{spi\_\-write\_\-ready\_\-p} (void)
\item 
void \hyperlink{spi_8h_f07e7fc5a05ce6aa13275caf3e1a1ee6}{spi\_\-putc} (char ch)
\item 
uint8\_\-t \hyperlink{spi_8h_844a8623de7b53c3c0cb559783bed830}{spi\_\-xferc} (char ch)
\item 
void \hyperlink{spi_8h_f31efda768fd81e3ef9da9efa18fe859}{spi\_\-puts} (const char $\ast$str)
\item 
void \hyperlink{spi_8h_5285cd6224ebf13ed1df81dc4f0f5b90}{spi\_\-bits\_\-set} (uint8\_\-t bits)
\item 
void \hyperlink{spi_8h_f64a0cd1e985fb81ce3d9e96a6668182}{spi\_\-mode\_\-set} (\hyperlink{spi_8h_c4b206a51636d91c5cffcbcee458c3cb}{spi\_\-mode\_\-t} spi\_\-mode)
\item 
void \hyperlink{spi_8h_2676e03d3ba0c50dd5ea398ca067a238}{spi\_\-multichannel\_\-select} (void)
\item 
void \hyperlink{spi_8h_fb00c90fc4cd95acf3ff586fbf208740}{spi\_\-multichannel\_\-deselect} (void)
\item 
void \hyperlink{spi_8h_805ab3e2efbe9bd6992fbdb87dbb61dd}{spi\_\-channel\_\-select} (\hyperlink{spi_8h_7afa6d1cb2d865072da8ece3e3e1fc0e}{spi\_\-channel\_\-t} channel)
\item 
void \hyperlink{spi_8h_7bd8f7cc7005d0d1245633c23c67e8af}{spi\_\-channel\_\-deselect} (\hyperlink{spi_8h_7afa6d1cb2d865072da8ece3e3e1fc0e}{spi\_\-channel\_\-t} channel)
\item 
void \hyperlink{spi_8h_17e8d8fd2735419e2bc65ec153a39efa}{spi\_\-clock\_\-delay\_\-set} (uint16\_\-t delay)
\item 
void \hyperlink{spi_8h_2d0bfd3a0d3837ff41f3e3ddc964f2eb}{spi\_\-delay\_\-set} (uint16\_\-t delay)
\item 
void \hyperlink{spi_8h_b4d3d2108521da82545f26928da8e819}{spi\_\-divisor\_\-set} (\hyperlink{spi_8h_c57b56a26da0f94bf544f07ce75e2731}{spi\_\-clock\_\-divisor\_\-t} clock\_\-divisor)
\item 
uint16\_\-t \hyperlink{spi_8h_e093d8ac4ca3e2e63f41fe422f47d2c3}{spi\_\-get16} (void)
\item 
void \hyperlink{spi_8h_fce17b768e5cbdb24976c312486c9c26}{spi\_\-put16} (uint16\_\-t data)
\item 
uint16\_\-t \hyperlink{spi_8h_72cdbc85f9ba17c3a73f8f6164a8b93e}{spi\_\-xfer16} (uint16\_\-t data)
\item 
uint32\_\-t \hyperlink{spi_8h_16dc3308078400d68d1c6284b7eb4cbe}{spi\_\-get32} (void)
\item 
void \hyperlink{spi_8h_6e53bcb9e39a97319386a840af12a9a7}{spi\_\-put32} (uint32\_\-t data)
\item 
uint32\_\-t \hyperlink{spi_8h_75719e8aa02797b6a9ad559b5fe8d715}{spi\_\-xfer32} (uint32\_\-t data)
\end{CompactItemize}


\subsection{Detailed Description}
Routines for interfacing to the SPI bus. 

\begin{Desc}
\item[Author:]Michael Hayes \end{Desc}
\begin{Desc}
\item[Date:]30 July 2007 \end{Desc}


\subsection{Define Documentation}
\hypertarget{spi_8h_8227599d1d64afe75a04fe1c610e8385}{
\index{spi.h@{spi.h}!SPI\_\-CHANNEL\_\-MASK@{SPI\_\-CHANNEL\_\-MASK}}
\index{SPI\_\-CHANNEL\_\-MASK@{SPI\_\-CHANNEL\_\-MASK}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define SPI\_\-CHANNEL\_\-MASK(channel)~(0x0f $^\wedge$ BIT (channel))}}
\label{spi_8h_8227599d1d64afe75a04fe1c610e8385}




Referenced by spi\_\-channel\_\-select().\hypertarget{spi_8h_c23577e814a399e383f01f9da66d83fe}{
\index{spi.h@{spi.h}!spi\_\-data\_\-order\_\-set@{spi\_\-data\_\-order\_\-set}}
\index{spi\_\-data\_\-order\_\-set@{spi\_\-data\_\-order\_\-set}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define spi\_\-data\_\-order\_\-set(data\_\-order)}}
\label{spi_8h_c23577e814a399e383f01f9da66d83fe}


\hypertarget{spi_8h_730abfa1365910d6af77006b18f988e2}{
\index{spi.h@{spi.h}!SPI\_\-READY\_\-P@{SPI\_\-READY\_\-P}}
\index{SPI\_\-READY\_\-P@{SPI\_\-READY\_\-P}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define SPI\_\-READY\_\-P()~(AT91C\_\-BASE\_\-SPI $\rightarrow$ SPI\_\-SR \& AT91C\_\-SPI\_\-RDRF)}}
\label{spi_8h_730abfa1365910d6af77006b18f988e2}




Referenced by spi\_\-read\_\-ready\_\-p(), and spi\_\-write\_\-ready\_\-p().\hypertarget{spi_8h_23a77aca98a2798c9b2b76d26ad2bef5}{
\index{spi.h@{spi.h}!SPI\_\-TXEMPTY\_\-P@{SPI\_\-TXEMPTY\_\-P}}
\index{SPI\_\-TXEMPTY\_\-P@{SPI\_\-TXEMPTY\_\-P}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define SPI\_\-TXEMPTY\_\-P()~(AT91C\_\-BASE\_\-SPI $\rightarrow$ SPI\_\-SR \& AT91C\_\-SPI\_\-TXEMPTY)}}
\label{spi_8h_23a77aca98a2798c9b2b76d26ad2bef5}




\subsection{Typedef Documentation}
\hypertarget{spi_8h_7afa6d1cb2d865072da8ece3e3e1fc0e}{
\index{spi.h@{spi.h}!spi\_\-channel\_\-t@{spi\_\-channel\_\-t}}
\index{spi\_\-channel\_\-t@{spi\_\-channel\_\-t}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef uint8\_\-t {\bf spi\_\-channel\_\-t}}}
\label{spi_8h_7afa6d1cb2d865072da8ece3e3e1fc0e}


\hypertarget{spi_8h_c57b56a26da0f94bf544f07ce75e2731}{
\index{spi.h@{spi.h}!spi\_\-clock\_\-divisor\_\-t@{spi\_\-clock\_\-divisor\_\-t}}
\index{spi\_\-clock\_\-divisor\_\-t@{spi\_\-clock\_\-divisor\_\-t}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef uint16\_\-t {\bf spi\_\-clock\_\-divisor\_\-t}}}
\label{spi_8h_c57b56a26da0f94bf544f07ce75e2731}




\subsection{Enumeration Type Documentation}
\hypertarget{spi_8h_dc29c2ff13d900c2f185ee95427fb06c}{
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}}
\label{spi_8h_dc29c2ff13d900c2f185ee95427fb06c}


\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{SPI\_\-CHANNEL0@{SPI\_\-CHANNEL0}!spi.h@{spi.h}}\index{spi.h@{spi.h}!SPI\_\-CHANNEL0@{SPI\_\-CHANNEL0}}\item[{\em 
\hypertarget{spi_8h_dc29c2ff13d900c2f185ee95427fb06c28d91db98bfef86c2e513e9e0cab31a2}{
SPI\_\-CHANNEL0}
\label{spi_8h_dc29c2ff13d900c2f185ee95427fb06c28d91db98bfef86c2e513e9e0cab31a2}
}]\index{SPI\_\-CHANNEL1@{SPI\_\-CHANNEL1}!spi.h@{spi.h}}\index{spi.h@{spi.h}!SPI\_\-CHANNEL1@{SPI\_\-CHANNEL1}}\item[{\em 
\hypertarget{spi_8h_dc29c2ff13d900c2f185ee95427fb06ce01f25f2493c2b0a1406ee1371a2752d}{
SPI\_\-CHANNEL1}
\label{spi_8h_dc29c2ff13d900c2f185ee95427fb06ce01f25f2493c2b0a1406ee1371a2752d}
}]\index{SPI\_\-CHANNEL2@{SPI\_\-CHANNEL2}!spi.h@{spi.h}}\index{spi.h@{spi.h}!SPI\_\-CHANNEL2@{SPI\_\-CHANNEL2}}\item[{\em 
\hypertarget{spi_8h_dc29c2ff13d900c2f185ee95427fb06c4acd0d9734887e78aa4c50dfc78fcbfa}{
SPI\_\-CHANNEL2}
\label{spi_8h_dc29c2ff13d900c2f185ee95427fb06c4acd0d9734887e78aa4c50dfc78fcbfa}
}]\index{SPI\_\-CHANNEL3@{SPI\_\-CHANNEL3}!spi.h@{spi.h}}\index{spi.h@{spi.h}!SPI\_\-CHANNEL3@{SPI\_\-CHANNEL3}}\item[{\em 
\hypertarget{spi_8h_dc29c2ff13d900c2f185ee95427fb06c1b7e43cfe92e1412fc1d13622e099a6f}{
SPI\_\-CHANNEL3}
\label{spi_8h_dc29c2ff13d900c2f185ee95427fb06c1b7e43cfe92e1412fc1d13622e099a6f}
}]\end{description}
\end{Desc}

\hypertarget{spi_8h_6640c5de2f7b503d75fa6ae8fef0aa7f}{
\index{spi.h@{spi.h}!spi\_\-data\_\-order\_\-t@{spi\_\-data\_\-order\_\-t}}
\index{spi\_\-data\_\-order\_\-t@{spi\_\-data\_\-order\_\-t}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}enum {\bf spi\_\-data\_\-order\_\-t}}}
\label{spi_8h_6640c5de2f7b503d75fa6ae8fef0aa7f}


\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{SPI\_\-DATA\_\-MSB\_\-FIRST@{SPI\_\-DATA\_\-MSB\_\-FIRST}!spi.h@{spi.h}}\index{spi.h@{spi.h}!SPI\_\-DATA\_\-MSB\_\-FIRST@{SPI\_\-DATA\_\-MSB\_\-FIRST}}\item[{\em 
\hypertarget{spi_8h_6640c5de2f7b503d75fa6ae8fef0aa7f829782ace02bcba1db9c742b97f0e7a3}{
SPI\_\-DATA\_\-MSB\_\-FIRST}
\label{spi_8h_6640c5de2f7b503d75fa6ae8fef0aa7f829782ace02bcba1db9c742b97f0e7a3}
}]\index{SPI\_\-DATA\_\-LSB\_\-FIRST@{SPI\_\-DATA\_\-LSB\_\-FIRST}!spi.h@{spi.h}}\index{spi.h@{spi.h}!SPI\_\-DATA\_\-LSB\_\-FIRST@{SPI\_\-DATA\_\-LSB\_\-FIRST}}\item[{\em 
\hypertarget{spi_8h_6640c5de2f7b503d75fa6ae8fef0aa7f1fafa86efbcf4a52b8645488442163db}{
SPI\_\-DATA\_\-LSB\_\-FIRST}
\label{spi_8h_6640c5de2f7b503d75fa6ae8fef0aa7f1fafa86efbcf4a52b8645488442163db}
}]\end{description}
\end{Desc}

\hypertarget{spi_8h_c4b206a51636d91c5cffcbcee458c3cb}{
\index{spi.h@{spi.h}!spi\_\-mode\_\-t@{spi\_\-mode\_\-t}}
\index{spi\_\-mode\_\-t@{spi\_\-mode\_\-t}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}enum {\bf spi\_\-mode\_\-t}}}
\label{spi_8h_c4b206a51636d91c5cffcbcee458c3cb}


\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{SPI\_\-MODE\_\-0@{SPI\_\-MODE\_\-0}!spi.h@{spi.h}}\index{spi.h@{spi.h}!SPI\_\-MODE\_\-0@{SPI\_\-MODE\_\-0}}\item[{\em 
\hypertarget{spi_8h_c4b206a51636d91c5cffcbcee458c3cb152359b11fb4b43ed0c5485eb0ab0673}{
SPI\_\-MODE\_\-0}
\label{spi_8h_c4b206a51636d91c5cffcbcee458c3cb152359b11fb4b43ed0c5485eb0ab0673}
}]\index{SPI\_\-MODE\_\-1@{SPI\_\-MODE\_\-1}!spi.h@{spi.h}}\index{spi.h@{spi.h}!SPI\_\-MODE\_\-1@{SPI\_\-MODE\_\-1}}\item[{\em 
\hypertarget{spi_8h_c4b206a51636d91c5cffcbcee458c3cb7c1990cc15e9d69621be8e0e757e634c}{
SPI\_\-MODE\_\-1}
\label{spi_8h_c4b206a51636d91c5cffcbcee458c3cb7c1990cc15e9d69621be8e0e757e634c}
}]\index{SPI\_\-MODE\_\-2@{SPI\_\-MODE\_\-2}!spi.h@{spi.h}}\index{spi.h@{spi.h}!SPI\_\-MODE\_\-2@{SPI\_\-MODE\_\-2}}\item[{\em 
\hypertarget{spi_8h_c4b206a51636d91c5cffcbcee458c3cb4d350945d895a4acdc45ae96b0b82fc3}{
SPI\_\-MODE\_\-2}
\label{spi_8h_c4b206a51636d91c5cffcbcee458c3cb4d350945d895a4acdc45ae96b0b82fc3}
}]\index{SPI\_\-MODE\_\-3@{SPI\_\-MODE\_\-3}!spi.h@{spi.h}}\index{spi.h@{spi.h}!SPI\_\-MODE\_\-3@{SPI\_\-MODE\_\-3}}\item[{\em 
\hypertarget{spi_8h_c4b206a51636d91c5cffcbcee458c3cbf06ec36087996d6f328df39866ff5de6}{
SPI\_\-MODE\_\-3}
\label{spi_8h_c4b206a51636d91c5cffcbcee458c3cbf06ec36087996d6f328df39866ff5de6}
}]\end{description}
\end{Desc}



\subsection{Function Documentation}
\hypertarget{spi_8h_5285cd6224ebf13ed1df81dc4f0f5b90}{
\index{spi.h@{spi.h}!spi\_\-bits\_\-set@{spi\_\-bits\_\-set}}
\index{spi\_\-bits\_\-set@{spi\_\-bits\_\-set}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void spi\_\-bits\_\-set (uint8\_\-t {\em bits})}}
\label{spi_8h_5285cd6224ebf13ed1df81dc4f0f5b90}




References spi\_\-channel, and spi\_\-channel\_\-bits\_\-set().

Referenced by spi\_\-init().\hypertarget{spi_8h_7bd8f7cc7005d0d1245633c23c67e8af}{
\index{spi.h@{spi.h}!spi\_\-channel\_\-deselect@{spi\_\-channel\_\-deselect}}
\index{spi\_\-channel\_\-deselect@{spi\_\-channel\_\-deselect}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void spi\_\-channel\_\-deselect ({\bf spi\_\-channel\_\-t} {\em channel})}}
\label{spi_8h_7bd8f7cc7005d0d1245633c23c67e8af}




References SPI\_\-CHANNEL\_\-DEFAULT, and spi\_\-channel\_\-select().\hypertarget{spi_8h_805ab3e2efbe9bd6992fbdb87dbb61dd}{
\index{spi.h@{spi.h}!spi\_\-channel\_\-select@{spi\_\-channel\_\-select}}
\index{spi\_\-channel\_\-select@{spi\_\-channel\_\-select}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void spi\_\-channel\_\-select ({\bf spi\_\-channel\_\-t} {\em channel})}}
\label{spi_8h_805ab3e2efbe9bd6992fbdb87dbb61dd}




References AT91C\_\-BASE\_\-SPI, AT91C\_\-SPI\_\-PS\_\-VARIABLE, BITS\_\-INSERT, spi\_\-channel, SPI\_\-CHANNEL\_\-MASK, and \_\-AT91S\_\-SPI::SPI\_\-MR.

Referenced by spi\_\-channel\_\-deselect(), spi\_\-init(), and spi\_\-multichannel\_\-deselect().\hypertarget{spi_8h_17e8d8fd2735419e2bc65ec153a39efa}{
\index{spi.h@{spi.h}!spi\_\-clock\_\-delay\_\-set@{spi\_\-clock\_\-delay\_\-set}}
\index{spi\_\-clock\_\-delay\_\-set@{spi\_\-clock\_\-delay\_\-set}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void spi\_\-clock\_\-delay\_\-set (uint16\_\-t {\em delay})}}
\label{spi_8h_17e8d8fd2735419e2bc65ec153a39efa}


Set the delay (in clocks) before the clock starts. 

References spi\_\-channel, and spi\_\-channel\_\-clock\_\-delay\_\-set().\hypertarget{spi_8h_40cb631262c9ad769f1953ea7c09a065}{
\index{spi.h@{spi.h}!spi\_\-cs\_\-disable@{spi\_\-cs\_\-disable}}
\index{spi\_\-cs\_\-disable@{spi\_\-cs\_\-disable}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool spi\_\-cs\_\-disable (void)}}
\label{spi_8h_40cb631262c9ad769f1953ea7c09a065}


Disable the chip select; this does not drive it. 

References spi\_\-channel, and spi\_\-channel\_\-cs\_\-disable().\hypertarget{spi_8h_8f6bbcf7a252d3e35cb993836b122257}{
\index{spi.h@{spi.h}!spi\_\-cs\_\-enable@{spi\_\-cs\_\-enable}}
\index{spi\_\-cs\_\-enable@{spi\_\-cs\_\-enable}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool spi\_\-cs\_\-enable (void)}}
\label{spi_8h_8f6bbcf7a252d3e35cb993836b122257}


Enable the chip select; this does not drive it. SPI\_\-CSX\_\-BIT needs to be defined to use channel X, X = 0..3 SPI\_\-CHANNEL0\_\-CS\_\-BIT 11 SPI\_\-CHANNEL1\_\-CS\_\-BIT 9 or 31 SPI\_\-CHANNEL2\_\-CS\_\-BIT 10 or 30 SPI\_\-CHANNEL3\_\-CS\_\-BIT 3, 5, or 22 

References spi\_\-channel, and spi\_\-channel\_\-cs\_\-enable().\hypertarget{spi_8h_2d0bfd3a0d3837ff41f3e3ddc964f2eb}{
\index{spi.h@{spi.h}!spi\_\-delay\_\-set@{spi\_\-delay\_\-set}}
\index{spi\_\-delay\_\-set@{spi\_\-delay\_\-set}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void spi\_\-delay\_\-set (uint16\_\-t {\em clock\_\-divisor})}}
\label{spi_8h_2d0bfd3a0d3837ff41f3e3ddc964f2eb}


Set the delay (in clocks $\ast$ 32) before starting a transmission on same SPI channel. The default is 0. 

References spi\_\-channel, and spi\_\-channel\_\-delay\_\-set().\hypertarget{spi_8h_b4d3d2108521da82545f26928da8e819}{
\index{spi.h@{spi.h}!spi\_\-divisor\_\-set@{spi\_\-divisor\_\-set}}
\index{spi\_\-divisor\_\-set@{spi\_\-divisor\_\-set}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void spi\_\-divisor\_\-set ({\bf spi\_\-clock\_\-divisor\_\-t} {\em clock\_\-divisor})}}
\label{spi_8h_b4d3d2108521da82545f26928da8e819}




References spi\_\-channel, and spi\_\-channel\_\-divisor\_\-set().

Referenced by spi\_\-init().\hypertarget{spi_8h_e093d8ac4ca3e2e63f41fe422f47d2c3}{
\index{spi.h@{spi.h}!spi\_\-get16@{spi\_\-get16}}
\index{spi\_\-get16@{spi\_\-get16}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}uint16\_\-t spi\_\-get16 (void)}}
\label{spi_8h_e093d8ac4ca3e2e63f41fe422f47d2c3}




References SPI\_\-XFER.\hypertarget{spi_8h_16dc3308078400d68d1c6284b7eb4cbe}{
\index{spi.h@{spi.h}!spi\_\-get32@{spi\_\-get32}}
\index{spi\_\-get32@{spi\_\-get32}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}uint32\_\-t spi\_\-get32 (void)}}
\label{spi_8h_16dc3308078400d68d1c6284b7eb4cbe}




References SPI\_\-XFER.\hypertarget{spi_8h_dd760b5484c2e63c5fb18517c99ac4e2}{
\index{spi.h@{spi.h}!spi\_\-getc@{spi\_\-getc}}
\index{spi\_\-getc@{spi\_\-getc}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t spi\_\-getc (void)}}
\label{spi_8h_dd760b5484c2e63c5fb18517c99ac4e2}




References SPI\_\-XFER.\hypertarget{spi_8h_e909944aa85ae98323073c628be541aa}{
\index{spi.h@{spi.h}!spi\_\-init@{spi\_\-init}}
\index{spi\_\-init@{spi\_\-init}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void spi\_\-init (void)}}
\label{spi_8h_e909944aa85ae98323073c628be541aa}


Initialise SPI for master mode. 

References AT91C\_\-BASE\_\-PMC, AT91C\_\-BASE\_\-SPI, AT91C\_\-ID\_\-SPI, AT91C\_\-PA12\_\-MISO, AT91C\_\-PA13\_\-MOSI, AT91C\_\-PA14\_\-SPCK, AT91C\_\-PIOA\_\-ASR, AT91C\_\-PIOA\_\-PDR, AT91C\_\-PIOA\_\-PPUDR, AT91C\_\-SPI\_\-MODFDIS, AT91C\_\-SPI\_\-MSTR, spi\_\-bits\_\-set(), SPI\_\-CHANNEL\_\-DEFAULT, spi\_\-channel\_\-select(), spi\_\-csr\_\-set(), spi\_\-divisor\_\-set(), spi\_\-enable(), spi\_\-init\_\-count, SPI\_\-MODE\_\-0, spi\_\-mode\_\-set(), \_\-AT91S\_\-SPI::SPI\_\-MR, and spi\_\-reset().\hypertarget{spi_8h_f64a0cd1e985fb81ce3d9e96a6668182}{
\index{spi.h@{spi.h}!spi\_\-mode\_\-set@{spi\_\-mode\_\-set}}
\index{spi\_\-mode\_\-set@{spi\_\-mode\_\-set}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void spi\_\-mode\_\-set ({\bf spi\_\-mode\_\-t} {\em spi\_\-mode})}}
\label{spi_8h_f64a0cd1e985fb81ce3d9e96a6668182}




References spi\_\-channel, and spi\_\-channel\_\-mode\_\-set().

Referenced by spi\_\-init().\hypertarget{spi_8h_fb00c90fc4cd95acf3ff586fbf208740}{
\index{spi.h@{spi.h}!spi\_\-multichannel\_\-deselect@{spi\_\-multichannel\_\-deselect}}
\index{spi\_\-multichannel\_\-deselect@{spi\_\-multichannel\_\-deselect}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void spi\_\-multichannel\_\-deselect (void)}}
\label{spi_8h_fb00c90fc4cd95acf3ff586fbf208740}


Enable fixed peripheral select and switch to default channel. 

References SPI\_\-CHANNEL\_\-DEFAULT, and spi\_\-channel\_\-select().\hypertarget{spi_8h_2676e03d3ba0c50dd5ea398ca067a238}{
\index{spi.h@{spi.h}!spi\_\-multichannel\_\-select@{spi\_\-multichannel\_\-select}}
\index{spi\_\-multichannel\_\-select@{spi\_\-multichannel\_\-select}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void spi\_\-multichannel\_\-select (void)}}
\label{spi_8h_2676e03d3ba0c50dd5ea398ca067a238}


Enable variable peripheral select. 

References AT91C\_\-BASE\_\-SPI, AT91C\_\-SPI\_\-PS\_\-VARIABLE, and \_\-AT91S\_\-SPI::SPI\_\-MR.\hypertarget{spi_8h_fce17b768e5cbdb24976c312486c9c26}{
\index{spi.h@{spi.h}!spi\_\-put16@{spi\_\-put16}}
\index{spi\_\-put16@{spi\_\-put16}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void spi\_\-put16 (uint16\_\-t {\em data})}}
\label{spi_8h_fce17b768e5cbdb24976c312486c9c26}




References SPI\_\-XFER.

Referenced by mspi\_\-write().\hypertarget{spi_8h_6e53bcb9e39a97319386a840af12a9a7}{
\index{spi.h@{spi.h}!spi\_\-put32@{spi\_\-put32}}
\index{spi\_\-put32@{spi\_\-put32}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void spi\_\-put32 (uint32\_\-t {\em data})}}
\label{spi_8h_6e53bcb9e39a97319386a840af12a9a7}




References SPI\_\-XFER.\hypertarget{spi_8h_f07e7fc5a05ce6aa13275caf3e1a1ee6}{
\index{spi.h@{spi.h}!spi\_\-putc@{spi\_\-putc}}
\index{spi\_\-putc@{spi\_\-putc}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void spi\_\-putc (char {\em ch})}}
\label{spi_8h_f07e7fc5a05ce6aa13275caf3e1a1ee6}




References SPI\_\-XFER.

Referenced by mspi\_\-write().\hypertarget{spi_8h_f31efda768fd81e3ef9da9efa18fe859}{
\index{spi.h@{spi.h}!spi\_\-puts@{spi\_\-puts}}
\index{spi\_\-puts@{spi\_\-puts}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void spi\_\-puts (const char $\ast$ {\em str})}}
\label{spi_8h_f31efda768fd81e3ef9da9efa18fe859}




References SPI\_\-XFER.\hypertarget{spi_8h_8a9ac2da9a32737d3209ff42451ab134}{
\index{spi.h@{spi.h}!spi\_\-read\_\-ready\_\-p@{spi\_\-read\_\-ready\_\-p}}
\index{spi\_\-read\_\-ready\_\-p@{spi\_\-read\_\-ready\_\-p}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool spi\_\-read\_\-ready\_\-p (void)}}
\label{spi_8h_8a9ac2da9a32737d3209ff42451ab134}




References SPI\_\-READY\_\-P.\hypertarget{spi_8h_5b69fa29433dea2b612a9d0bdedb3dd0}{
\index{spi.h@{spi.h}!spi\_\-shutdown@{spi\_\-shutdown}}
\index{spi\_\-shutdown@{spi\_\-shutdown}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void spi\_\-shutdown (void)}}
\label{spi_8h_5b69fa29433dea2b612a9d0bdedb3dd0}




References AT91C\_\-BASE\_\-PMC, AT91C\_\-ID\_\-SPI, AT91C\_\-PA12\_\-MISO, AT91C\_\-PA13\_\-MOSI, AT91C\_\-PA14\_\-SPCK, AT91C\_\-PIOA\_\-CODR, AT91C\_\-PIOA\_\-PER, AT91C\_\-PIOA\_\-PPUDR, spi\_\-disable(), and spi\_\-init\_\-count.\hypertarget{spi_8h_d07252a3fc56d2efddf3b7597a2b5f6e}{
\index{spi.h@{spi.h}!spi\_\-write\_\-ready\_\-p@{spi\_\-write\_\-ready\_\-p}}
\index{spi\_\-write\_\-ready\_\-p@{spi\_\-write\_\-ready\_\-p}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool spi\_\-write\_\-ready\_\-p (void)}}
\label{spi_8h_d07252a3fc56d2efddf3b7597a2b5f6e}




References SPI\_\-READY\_\-P.\hypertarget{spi_8h_72cdbc85f9ba17c3a73f8f6164a8b93e}{
\index{spi.h@{spi.h}!spi\_\-xfer16@{spi\_\-xfer16}}
\index{spi\_\-xfer16@{spi\_\-xfer16}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}uint16\_\-t spi\_\-xfer16 (uint16\_\-t {\em data})}}
\label{spi_8h_72cdbc85f9ba17c3a73f8f6164a8b93e}




References SPI\_\-XFER.\hypertarget{spi_8h_75719e8aa02797b6a9ad559b5fe8d715}{
\index{spi.h@{spi.h}!spi\_\-xfer32@{spi\_\-xfer32}}
\index{spi\_\-xfer32@{spi\_\-xfer32}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}uint32\_\-t spi\_\-xfer32 (uint32\_\-t {\em data})}}
\label{spi_8h_75719e8aa02797b6a9ad559b5fe8d715}




References SPI\_\-XFER.\hypertarget{spi_8h_844a8623de7b53c3c0cb559783bed830}{
\index{spi.h@{spi.h}!spi\_\-xferc@{spi\_\-xferc}}
\index{spi\_\-xferc@{spi\_\-xferc}!spi.h@{spi.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t spi\_\-xferc (char {\em ch})}}
\label{spi_8h_844a8623de7b53c3c0cb559783bed830}




References SPI\_\-XFER.