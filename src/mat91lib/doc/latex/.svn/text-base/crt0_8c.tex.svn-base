\hypertarget{crt0_8c}{
\section{crt0.c File Reference}
\label{crt0_8c}\index{crt0.c@{crt0.c}}
}
C run time initialisation for the Atmel AT91 series of ARM7 TDMI microprocessors. 

{\tt \#include \char`\"{}config.h\char`\"{}}\par
{\tt \#include \char`\"{}cpu.h\char`\"{}}\par
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define \hyperlink{crt0_8c_a29eeafd9d5cd3ddbc1269fe7ce917b0}{IRQ\_\-STACK\_\-SIZE}~(3 $\ast$ 8 $\ast$ 4)
\item 
\#define \hyperlink{crt0_8c_6e3e8e03dfab2d9279386f35d1fc8471}{AIC\_\-FVR\_\-OFFSET}~264
\item 
\#define \hyperlink{crt0_8c_221b1dc996ffee78704c95caa7a37ad3}{AIC\_\-IVR\_\-OFFSET}~260
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
int \hyperlink{crt0_8c_d5c6b41eba5f719bb7801c662b4809cf}{main} (int, char $\ast$)
\item 
void \hyperlink{crt0_8c_8c47dbd52ddde80f54b8af0ac9ade128}{exit} (int status \_\-\_\-attribute((unused)))
\item 
void \hyperlink{crt0_8c_edc96a40e844bc2efc8bbef1b0782702}{start} (void)
\item 
void \hyperlink{crt0_8c_b60103b45a3e7b0f9eac6b275e0af4f8}{\_\-reset\_\-handler} (void)
\item 
void \hyperlink{crt0_8c_ed72c46f72c1de9826853563ffc82267}{\_\-irq\_\-handler} (void)
\item 
void \hyperlink{crt0_8c_1df1e0dd612db3618069ccdcf8b9341e}{\_\-irq\_\-unexpected\_\-handler} (void)
\item 
void \hyperlink{crt0_8c_aa5f561a0cda90797fd82dadb2c2e320}{\_\-irq\_\-spurious\_\-handler} (void)
\end{CompactItemize}
\subsection*{Variables}
\begin{CompactItemize}
\item 
char \hyperlink{crt0_8c_f3e7619ee22802ba661c2737ef18feb4}{\_\-stack}
\item 
char \hyperlink{crt0_8c_d1e7be9a0318909e03ce0ff951261707}{\_\-data}
\item 
char \hyperlink{crt0_8c_678387b54786b38004c37c629e83a35a}{\_\-edata}
\item 
char \hyperlink{crt0_8c_e4ac23ee1563c1bbcb0921de93c24832}{\_\-etext}
\item 
char \hyperlink{crt0_8c_d35e9b84770e0e590d1a13682f025376}{\_\-\_\-bss\_\-start\_\-\_\-}
\item 
char \hyperlink{crt0_8c_90d94159980d213c2c903b17da1ee8ab}{\_\-\_\-bss\_\-end\_\-\_\-}
\end{CompactItemize}


\subsection{Detailed Description}
C run time initialisation for the Atmel AT91 series of ARM7 TDMI microprocessors. 

\begin{Desc}
\item[Author:]M. P. Hayes, UCECE \end{Desc}
\begin{Desc}
\item[Date:]10 June 2007 \end{Desc}


\subsection{Define Documentation}
\hypertarget{crt0_8c_6e3e8e03dfab2d9279386f35d1fc8471}{
\index{crt0.c@{crt0.c}!AIC\_\-FVR\_\-OFFSET@{AIC\_\-FVR\_\-OFFSET}}
\index{AIC\_\-FVR\_\-OFFSET@{AIC\_\-FVR\_\-OFFSET}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define AIC\_\-FVR\_\-OFFSET~264}}
\label{crt0_8c_6e3e8e03dfab2d9279386f35d1fc8471}


\hypertarget{crt0_8c_221b1dc996ffee78704c95caa7a37ad3}{
\index{crt0.c@{crt0.c}!AIC\_\-IVR\_\-OFFSET@{AIC\_\-IVR\_\-OFFSET}}
\index{AIC\_\-IVR\_\-OFFSET@{AIC\_\-IVR\_\-OFFSET}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define AIC\_\-IVR\_\-OFFSET~260}}
\label{crt0_8c_221b1dc996ffee78704c95caa7a37ad3}


\hypertarget{crt0_8c_a29eeafd9d5cd3ddbc1269fe7ce917b0}{
\index{crt0.c@{crt0.c}!IRQ\_\-STACK\_\-SIZE@{IRQ\_\-STACK\_\-SIZE}}
\index{IRQ\_\-STACK\_\-SIZE@{IRQ\_\-STACK\_\-SIZE}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define IRQ\_\-STACK\_\-SIZE~(3 $\ast$ 8 $\ast$ 4)}}
\label{crt0_8c_a29eeafd9d5cd3ddbc1269fe7ce917b0}




\subsection{Function Documentation}
\hypertarget{crt0_8c_ed72c46f72c1de9826853563ffc82267}{
\index{crt0.c@{crt0.c}!\_\-irq\_\-handler@{\_\-irq\_\-handler}}
\index{\_\-irq\_\-handler@{\_\-irq\_\-handler}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void \_\-irq\_\-handler (void)}}
\label{crt0_8c_ed72c46f72c1de9826853563ffc82267}


IRQ handler. This must run in ARM mode. Note this will not compile in Thumb mode because of some of the inline ARM assembler instructions. 

References AIC\_\-IVR\_\-OFFSET, AT91C\_\-BASE\_\-AIC, cpu\_\-cpsr\_\-c\_\-set\_\-const, CPU\_\-I\_\-BIT, CPU\_\-MODE\_\-IRQ, and CPU\_\-MODE\_\-SVC.\hypertarget{crt0_8c_aa5f561a0cda90797fd82dadb2c2e320}{
\index{crt0.c@{crt0.c}!\_\-irq\_\-spurious\_\-handler@{\_\-irq\_\-spurious\_\-handler}}
\index{\_\-irq\_\-spurious\_\-handler@{\_\-irq\_\-spurious\_\-handler}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void \_\-irq\_\-spurious\_\-handler (void)}}
\label{crt0_8c_aa5f561a0cda90797fd82dadb2c2e320}


Dummy ISR for spurious interrupts. 

Referenced by cpu\_\-init().\hypertarget{crt0_8c_1df1e0dd612db3618069ccdcf8b9341e}{
\index{crt0.c@{crt0.c}!\_\-irq\_\-unexpected\_\-handler@{\_\-irq\_\-unexpected\_\-handler}}
\index{\_\-irq\_\-unexpected\_\-handler@{\_\-irq\_\-unexpected\_\-handler}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void \_\-irq\_\-unexpected\_\-handler (void)}}
\label{crt0_8c_1df1e0dd612db3618069ccdcf8b9341e}


Dummy ISR for unexpected interrupts. \hypertarget{crt0_8c_b60103b45a3e7b0f9eac6b275e0af4f8}{
\index{crt0.c@{crt0.c}!\_\-reset\_\-handler@{\_\-reset\_\-handler}}
\index{\_\-reset\_\-handler@{\_\-reset\_\-handler}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void \_\-reset\_\-handler (void)}}
\label{crt0_8c_b60103b45a3e7b0f9eac6b275e0af4f8}




References \_\-\_\-bss\_\-end\_\-\_\-, \_\-\_\-bss\_\-start\_\-\_\-, \_\-data, \_\-edata, \_\-etext, \_\-stack, AT91C\_\-BASE\_\-AIC, cpu\_\-cpsr\_\-c\_\-set\_\-const, CPU\_\-F\_\-BIT, CPU\_\-I\_\-BIT, cpu\_\-init(), CPU\_\-MODE\_\-FIQ, CPU\_\-MODE\_\-IRQ, CPU\_\-MODE\_\-SVC, exit(), IRQ\_\-STACK\_\-SIZE, and main().\hypertarget{crt0_8c_8c47dbd52ddde80f54b8af0ac9ade128}{
\index{crt0.c@{crt0.c}!exit@{exit}}
\index{exit@{exit}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void exit (int status  {\em \_\-\_\-attribute}(unused))}}
\label{crt0_8c_8c47dbd52ddde80f54b8af0ac9ade128}


\hypertarget{crt0_8c_d5c6b41eba5f719bb7801c662b4809cf}{
\index{crt0.c@{crt0.c}!main@{main}}
\index{main@{main}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int main (int, \/  char $\ast$)}}
\label{crt0_8c_d5c6b41eba5f719bb7801c662b4809cf}


End of uninitialised variables. \hypertarget{crt0_8c_edc96a40e844bc2efc8bbef1b0782702}{
\index{crt0.c@{crt0.c}!start@{start}}
\index{start@{start}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void start (void)}}
\label{crt0_8c_edc96a40e844bc2efc8bbef1b0782702}


Startup function. 

References AIC\_\-FVR\_\-OFFSET, cpu\_\-cpsr\_\-c\_\-set\_\-const, CPU\_\-F\_\-BIT, CPU\_\-I\_\-BIT, CPU\_\-MODE\_\-FIQ, and CPU\_\-MODE\_\-SVC.

\subsection{Variable Documentation}
\hypertarget{crt0_8c_90d94159980d213c2c903b17da1ee8ab}{
\index{crt0.c@{crt0.c}!\_\-\_\-bss\_\-end\_\-\_\-@{\_\-\_\-bss\_\-end\_\-\_\-}}
\index{\_\-\_\-bss\_\-end\_\-\_\-@{\_\-\_\-bss\_\-end\_\-\_\-}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char {\bf \_\-\_\-bss\_\-end\_\-\_\-}}}
\label{crt0_8c_90d94159980d213c2c903b17da1ee8ab}


Start of uninitialised variables. \hypertarget{crt0_8c_d35e9b84770e0e590d1a13682f025376}{
\index{crt0.c@{crt0.c}!\_\-\_\-bss\_\-start\_\-\_\-@{\_\-\_\-bss\_\-start\_\-\_\-}}
\index{\_\-\_\-bss\_\-start\_\-\_\-@{\_\-\_\-bss\_\-start\_\-\_\-}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char {\bf \_\-\_\-bss\_\-start\_\-\_\-}}}
\label{crt0_8c_d35e9b84770e0e590d1a13682f025376}


Start of initial values. \hypertarget{crt0_8c_d1e7be9a0318909e03ce0ff951261707}{
\index{crt0.c@{crt0.c}!\_\-data@{\_\-data}}
\index{\_\-data@{\_\-data}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char {\bf \_\-data}}}
\label{crt0_8c_d1e7be9a0318909e03ce0ff951261707}


Top of stack. \hypertarget{crt0_8c_678387b54786b38004c37c629e83a35a}{
\index{crt0.c@{crt0.c}!\_\-edata@{\_\-edata}}
\index{\_\-edata@{\_\-edata}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char {\bf \_\-edata}}}
\label{crt0_8c_678387b54786b38004c37c629e83a35a}


Start of initialised variables. \hypertarget{crt0_8c_e4ac23ee1563c1bbcb0921de93c24832}{
\index{crt0.c@{crt0.c}!\_\-etext@{\_\-etext}}
\index{\_\-etext@{\_\-etext}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char {\bf \_\-etext}}}
\label{crt0_8c_e4ac23ee1563c1bbcb0921de93c24832}


End of initialised variables. \hypertarget{crt0_8c_f3e7619ee22802ba661c2737ef18feb4}{
\index{crt0.c@{crt0.c}!\_\-stack@{\_\-stack}}
\index{\_\-stack@{\_\-stack}!crt0.c@{crt0.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char {\bf \_\-stack}}}
\label{crt0_8c_f3e7619ee22802ba661c2737ef18feb4}


Symbols defined by linker script. 