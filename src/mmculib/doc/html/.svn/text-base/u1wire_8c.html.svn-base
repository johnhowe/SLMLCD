<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>mmculib: u1wire.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>u1wire.c File Reference</h1>Low level routines to drive Dallas universal 1 wire bus. This only supports a single instance of a 1 wire bus. <a href="#_details">More...</a>
<p>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &quot;config.h&quot;</code><br>
<code>#include &quot;delay.h&quot;</code><br>
<code>#include &quot;<a class="el" href="u1wire_8h-source.html">u1wire.h</a>&quot;</code><br>
<code>#include &quot;irq.h&quot;</code><br>
<code>#include &quot;port.h&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#735bc6b384c59bab6e3c4ef47cb18a36">U1WIRE_DEBUG</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#0f7c1165c720662e8e063f598f7adb97">U1WIRE_RELEASE</a>()&nbsp;&nbsp;&nbsp;port_pin_config_pullup (U1WIRE_PORT, U1WIRE_BIT)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#8de09058cefbe519406bed0273d9a229">U1WIRE_DRIVE</a>()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#92bf5dd6f187ffde9fd8b5dbf2195922">U1WIRE_TEST</a>()&nbsp;&nbsp;&nbsp;port_pin_read (U1WIRE_PORT, U1WIRE_BIT)</td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="u1wire_8c.html#550cb4231d535863c55643bbd2d3c6ba6963599d052ecb018cdd80d656550d6a">U1WIRE_READ_ROM</a> =  0x33, 
<a class="el" href="u1wire_8c.html#550cb4231d535863c55643bbd2d3c6ba2ed6444f12af682e595c732ddd71d76e">U1WIRE_SKIP_ROM</a> =  0xcc, 
<a class="el" href="u1wire_8c.html#550cb4231d535863c55643bbd2d3c6ba11bdf5cabbb8011ecbcf875f2fc13a40">U1WIRE_MATCH_ROM</a> =  0x55, 
<a class="el" href="u1wire_8c.html#550cb4231d535863c55643bbd2d3c6ba39857ccf7972316185323cc9a7b08b4a">U1WIRE_RECALL</a> =  0xb8
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="u1wire_8c.html#83e8bc15645f9d99ab91a152bb3dc8ce2a52afdd267a4564453465c6f7619b3d">U1WIRE_DELAY_OFFSET</a> =  6, 
<a class="el" href="u1wire_8c.html#83e8bc15645f9d99ab91a152bb3dc8ceda36f0538742693d32b40e5801717764">U1WIRE_ADDR_BYTES</a> =  6
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#fefc92288deb7e6638c7eccee340376b">u1wire_reset</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#396b2c2a03fe9d6d30b5a6104d968d91">u1wire_bit_write</a> (uint8_t value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#fe3fdd50fbc17820ba234683a50eee97">u1wire_byte_write</a> (uint8_t value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#81248b7029b0bba2925ff395f4f28c84">u1wire_bit_read</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#b60c227540a8ab2f79ce49227e1bb48b">u1wire_byte_read</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#888875ac4a77aa3ba247819f036e46c0">u1wire_rom_code_read</a> (<a class="el" href="structu1wire__obj__t.html">u1wire_t</a> dev)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#c5962c09caed92394ad54c93621b9f1f">u1wire_command</a> (<a class="el" href="structu1wire__obj__t.html">u1wire_t</a> dev, uint8_t command)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#576198d4478882d49d4c6d6f6b7091c1">u1wire_broadcast</a> (uint8_t command)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#d0e0bcaa6a848d5cf10546c3d9da727b">u1wire_read</a> (void *data, uint8_t size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#392979195007fe1ff2b5604ca4fce126">u1wire_write</a> (void *data, uint8_t size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#342ecd2bb7a5b36f1f47f6b8ec6e6d44">u1wire_ready_p</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="u1wire_8c.html#8c5e485ac768c59d13b907369a3fe444">u1wire_init</a> (<a class="el" href="structu1wire__obj__t.html">u1wire_obj_t</a> *device)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Low level routines to drive Dallas universal 1 wire bus. This only supports a single instance of a 1 wire bus. 
<p>
Low level routines to drive Dallas universal 1 wire bus.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>M. P. Hayes </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>16 May 20002</dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>M. P. Hayes </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>16 May 20002 </dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This only supports a single instance of a 1 wire bus. </dd></dl>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="735bc6b384c59bab6e3c4ef47cb18a36"></a><!-- doxytag: member="u1wire.c::U1WIRE_DEBUG" ref="735bc6b384c59bab6e3c4ef47cb18a36" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U1WIRE_DEBUG&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="8de09058cefbe519406bed0273d9a229"></a><!-- doxytag: member="u1wire.c::U1WIRE_DRIVE" ref="8de09058cefbe519406bed0273d9a229" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U1WIRE_DRIVE          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {port_pin_config_output (U1WIRE_PORT, U1WIRE_BIT); \
        port_pin_set_low (U1WIRE_PORT, U1WIRE_BIT);} <span class="keywordflow">while</span> (0)
</pre></div>
</div>
</div><p>
<a class="anchor" name="0f7c1165c720662e8e063f598f7adb97"></a><!-- doxytag: member="u1wire.c::U1WIRE_RELEASE" ref="0f7c1165c720662e8e063f598f7adb97" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U1WIRE_RELEASE          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;port_pin_config_pullup (U1WIRE_PORT, U1WIRE_BIT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="92bf5dd6f187ffde9fd8b5dbf2195922"></a><!-- doxytag: member="u1wire.c::U1WIRE_TEST" ref="92bf5dd6f187ffde9fd8b5dbf2195922" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U1WIRE_TEST          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;port_pin_read (U1WIRE_PORT, U1WIRE_BIT)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="550cb4231d535863c55643bbd2d3c6ba"></a><!-- doxytag: member="u1wire.c::@70" ref="550cb4231d535863c55643bbd2d3c6ba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="550cb4231d535863c55643bbd2d3c6ba6963599d052ecb018cdd80d656550d6a"></a><!-- doxytag: member="U1WIRE_READ_ROM" ref="550cb4231d535863c55643bbd2d3c6ba6963599d052ecb018cdd80d656550d6a" args="" -->U1WIRE_READ_ROM</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="550cb4231d535863c55643bbd2d3c6ba2ed6444f12af682e595c732ddd71d76e"></a><!-- doxytag: member="U1WIRE_SKIP_ROM" ref="550cb4231d535863c55643bbd2d3c6ba2ed6444f12af682e595c732ddd71d76e" args="" -->U1WIRE_SKIP_ROM</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="550cb4231d535863c55643bbd2d3c6ba11bdf5cabbb8011ecbcf875f2fc13a40"></a><!-- doxytag: member="U1WIRE_MATCH_ROM" ref="550cb4231d535863c55643bbd2d3c6ba11bdf5cabbb8011ecbcf875f2fc13a40" args="" -->U1WIRE_MATCH_ROM</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="550cb4231d535863c55643bbd2d3c6ba39857ccf7972316185323cc9a7b08b4a"></a><!-- doxytag: member="U1WIRE_RECALL" ref="550cb4231d535863c55643bbd2d3c6ba39857ccf7972316185323cc9a7b08b4a" args="" -->U1WIRE_RECALL</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

</div>
</div><p>
<a class="anchor" name="83e8bc15645f9d99ab91a152bb3dc8ce"></a><!-- doxytag: member="u1wire.c::@71" ref="83e8bc15645f9d99ab91a152bb3dc8ce" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="83e8bc15645f9d99ab91a152bb3dc8ce2a52afdd267a4564453465c6f7619b3d"></a><!-- doxytag: member="U1WIRE_DELAY_OFFSET" ref="83e8bc15645f9d99ab91a152bb3dc8ce2a52afdd267a4564453465c6f7619b3d" args="" -->U1WIRE_DELAY_OFFSET</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="83e8bc15645f9d99ab91a152bb3dc8ceda36f0538742693d32b40e5801717764"></a><!-- doxytag: member="U1WIRE_ADDR_BYTES" ref="83e8bc15645f9d99ab91a152bb3dc8ceda36f0538742693d32b40e5801717764" args="" -->U1WIRE_ADDR_BYTES</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="81248b7029b0bba2925ff395f4f28c84"></a><!-- doxytag: member="u1wire.c::u1wire_bit_read" ref="81248b7029b0bba2925ff395f4f28c84" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t u1wire_bit_read           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a bit from the one wire bus. <dl class="return" compact><dt><b>Returns:</b></dt><dd>bit read </dd></dl>

<p>References <a class="el" href="mu1wire_8c-source.html#l00025">U1WIRE_DELAY_OFFSET</a>, <a class="el" href="mu1wire_8c-source.html#l00043">U1WIRE_DRIVE</a>, <a class="el" href="mu1wire_8c-source.html#l00041">U1WIRE_RELEASE</a>, and <a class="el" href="mu1wire_8c-source.html#l00047">U1WIRE_TEST</a>.</p>

</div>
</div><p>
<a class="anchor" name="396b2c2a03fe9d6d30b5a6104d968d91"></a><!-- doxytag: member="u1wire.c::u1wire_bit_write" ref="396b2c2a03fe9d6d30b5a6104d968d91" args="(uint8_t value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void u1wire_bit_write           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>value</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a bit on the one wire bus. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>bit to write </td></tr>
  </table>
</dl>

<p>References <a class="el" href="mu1wire_8c-source.html#l00025">U1WIRE_DELAY_OFFSET</a>, <a class="el" href="mu1wire_8c-source.html#l00043">U1WIRE_DRIVE</a>, and <a class="el" href="mu1wire_8c-source.html#l00041">U1WIRE_RELEASE</a>.</p>

</div>
</div><p>
<a class="anchor" name="576198d4478882d49d4c6d6f6b7091c1"></a><!-- doxytag: member="u1wire.c::u1wire_broadcast" ref="576198d4478882d49d4c6d6f6b7091c1" args="(uint8_t command)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t u1wire_broadcast           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>command</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Broadcast command to all devices on one wire bus. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>command</em>&nbsp;</td><td>command to send </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if OK, 0 if no device responding, negative if error </dd></dl>

<p>References <a class="el" href="mu1wire_8c-source.html#l00156">u1wire_byte_write()</a>, <a class="el" href="mu1wire_8c-source.html#l00051">u1wire_reset()</a>, and <a class="el" href="mu1wire_8c-source.html#l00018">U1WIRE_SKIP_ROM</a>.</p>

</div>
</div><p>
<a class="anchor" name="b60c227540a8ab2f79ce49227e1bb48b"></a><!-- doxytag: member="u1wire.c::u1wire_byte_read" ref="b60c227540a8ab2f79ce49227e1bb48b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t u1wire_byte_read           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a byte from the one wire bus. <dl class="return" compact><dt><b>Returns:</b></dt><dd>byte read </dd></dl>

<p>References <a class="el" href="mu1wire_8c-source.html#l00170">u1wire_bit_read()</a>.</p>

</div>
</div><p>
<a class="anchor" name="fe3fdd50fbc17820ba234683a50eee97"></a><!-- doxytag: member="u1wire.c::u1wire_byte_write" ref="fe3fdd50fbc17820ba234683a50eee97" args="(uint8_t value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void u1wire_byte_write           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>value</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a byte on the one wire bus. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>byte to write. </td></tr>
  </table>
</dl>

<p>References <a class="el" href="mu1wire_8c-source.html#l00128">u1wire_bit_write()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c5962c09caed92394ad54c93621b9f1f"></a><!-- doxytag: member="u1wire.c::u1wire_command" ref="c5962c09caed92394ad54c93621b9f1f" args="(u1wire_t dev, uint8_t command)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t u1wire_command           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structu1wire__obj__t.html">u1wire_t</a>&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>command</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send command to selected device on one wire bus. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>pointer to one wire device structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>command</em>&nbsp;</td><td>command to send </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if OK, 0 if no device responding, negative if error </dd></dl>

<p>References <a class="el" href="u1wire_8h-source.html#l00050">u1wire_obj_t::rom_code</a>, <a class="el" href="mu1wire_8c-source.html#l00156">u1wire_byte_write()</a>, <a class="el" href="mu1wire_8c-source.html#l00019">U1WIRE_MATCH_ROM</a>, <a class="el" href="mu1wire_8c-source.html#l00051">u1wire_reset()</a>, and <a class="el" href="mu1wire_8c-source.html#l00282">u1wire_write()</a>.</p>

</div>
</div><p>
<a class="anchor" name="8c5e485ac768c59d13b907369a3fe444"></a><!-- doxytag: member="u1wire.c::u1wire_init" ref="8c5e485ac768c59d13b907369a3fe444" args="(u1wire_obj_t *device)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t u1wire_init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structu1wire__obj__t.html">u1wire_obj_t</a> *&nbsp;</td>
          <td class="paramname"> <em>device</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialise one wire bus and discover if there is a single device on the bus. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>pointer to one wire device structure </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if OK, 0 if no device responding, negative if error </dd></dl>

<p>References <a class="el" href="mu1wire_8c-source.html#l00041">U1WIRE_RELEASE</a>, and <a class="el" href="mu1wire_8c-source.html#l00214">u1wire_rom_code_read()</a>.</p>

</div>
</div><p>
<a class="anchor" name="d0e0bcaa6a848d5cf10546c3d9da727b"></a><!-- doxytag: member="u1wire.c::u1wire_read" ref="d0e0bcaa6a848d5cf10546c3d9da727b" args="(void *data, uint8_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t u1wire_read           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read number of bytes of data from one wire bus. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>pointer to buffer to write to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>number of bytes to write </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of bytes read, 0 if no device responding, negative if error </dd></dl>

<p>References <a class="el" href="mu1wire_8c-source.html#l00197">u1wire_byte_read()</a>.</p>

</div>
</div><p>
<a class="anchor" name="342ecd2bb7a5b36f1f47f6b8ec6e6d44"></a><!-- doxytag: member="u1wire.c::u1wire_ready_p" ref="342ecd2bb7a5b36f1f47f6b8ec6e6d44" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool u1wire_ready_p           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine if one wire bus operation has completed. <dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if one wire bus operation has completed otherwise 0 </dd></dl>

<p>References <a class="el" href="mu1wire_8c-source.html#l00170">u1wire_bit_read()</a>.</p>

</div>
</div><p>
<a class="anchor" name="fefc92288deb7e6638c7eccee340376b"></a><!-- doxytag: member="u1wire.c::u1wire_reset" ref="fefc92288deb7e6638c7eccee340376b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t u1wire_reset           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reset one wire bus. <dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if OK, 0 if no device responding, negative if error </dd></dl>

<p>References <a class="el" href="mu1wire_8c-source.html#l00043">U1WIRE_DRIVE</a>, <a class="el" href="u1wire_8h-source.html#l00026">U1WIRE_ERR_BUS_HIGH</a>, <a class="el" href="u1wire_8h-source.html#l00021">U1WIRE_ERR_BUS_LOW</a>, <a class="el" href="u1wire_8h-source.html#l00022">U1WIRE_ERR_BUS_STUCK</a>, <a class="el" href="u1wire_8h-source.html#l00024">U1WIRE_ERR_PRESENCE_LONG</a>, <a class="el" href="u1wire_8h-source.html#l00023">U1WIRE_ERR_PRESENCE_SHORT</a>, <a class="el" href="mu1wire_8c-source.html#l00041">U1WIRE_RELEASE</a>, and <a class="el" href="mu1wire_8c-source.html#l00047">U1WIRE_TEST</a>.</p>

</div>
</div><p>
<a class="anchor" name="888875ac4a77aa3ba247819f036e46c0"></a><!-- doxytag: member="u1wire.c::u1wire_rom_code_read" ref="888875ac4a77aa3ba247819f036e46c0" args="(u1wire_t dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t u1wire_rom_code_read           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structu1wire__obj__t.html">u1wire_t</a>&nbsp;</td>
          <td class="paramname"> <em>dev</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine the ROM code for a single device on a one wire bus. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>pointer to one wire device structure </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if OK, 0 if no device responding, negative if error </dd></dl>

<p>References <a class="el" href="u1wire_8h-source.html#l00050">u1wire_obj_t::rom_code</a>, <a class="el" href="mu1wire_8c-source.html#l00156">u1wire_byte_write()</a>, <a class="el" href="mu1wire_8c-source.html#l00269">u1wire_read()</a>, <a class="el" href="mu1wire_8c-source.html#l00018">U1WIRE_READ_ROM</a>, <a class="el" href="mu1wire_8c-source.html#l00019">U1WIRE_RECALL</a>, and <a class="el" href="mu1wire_8c-source.html#l00051">u1wire_reset()</a>.</p>

</div>
</div><p>
<a class="anchor" name="392979195007fe1ff2b5604ca4fce126"></a><!-- doxytag: member="u1wire.c::u1wire_write" ref="392979195007fe1ff2b5604ca4fce126" args="(void *data, uint8_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t u1wire_write           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write number of bytes of data from one wire bus. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>pointer to buffer to write to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>number of bytes to write </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of bytes written, 0 if no device responding, negative if error </dd></dl>

<p>References <a class="el" href="mu1wire_8c-source.html#l00156">u1wire_byte_write()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue May 27 11:44:04 2008 for mmculib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
