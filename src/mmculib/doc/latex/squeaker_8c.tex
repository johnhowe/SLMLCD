\hypertarget{squeaker_8c}{
\section{squeaker.c File Reference}
\label{squeaker_8c}\index{squeaker.c@{squeaker.c}}
}
Play simple tunes with PWM. 

{\tt \#include \char`\"{}squeaker.h\char`\"{}}\par
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define \hyperlink{squeaker_8c_843a1a590f3636349d8cb46ac24a57ca}{SQUEAKER\_\-TRANSPARENT}~1
\item 
\#define \hyperlink{squeaker_8c_64e265bfb9832f1871c3fc85cf523eb2}{SQUEAKER\_\-HOLDOFF\_\-TIME}~50e-3
\end{CompactItemize}
\subsection*{Enumerations}
\begin{CompactItemize}
\item 
enum \{ \hyperlink{squeaker_8c_a156d1cebb38c8a65846c4d9c006012a9e1af00ba855cddd70ae1a86ef2744b9}{SQUEAKER\_\-PRESCALER} =  256
 \}
\item 
enum \{ \hyperlink{squeaker_8c_f8654c714018c6241d9ebd01f3fb5a26d9f92ed9983e3f39157090defbd5d836}{SQUEAKER\_\-SCALE\_\-SIZE} =  12
 \}
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
static void \hyperlink{squeaker_8c_93589f2e5c21b5730ea24ada909679d6}{squeaker\_\-ticker\_\-set} (\hyperlink{structsqueaker__private__t}{squeaker\_\-t} squeaker)
\item 
static void \hyperlink{squeaker_8c_58ff31ca6f4fa41ced1d18c18b3012fc}{squeaker\_\-note\_\-fraction\_\-set} (\hyperlink{structsqueaker__private__t}{squeaker\_\-t} squeaker, uint8\_\-t note\_\-fraction)
\item 
void \hyperlink{squeaker_8c_bae1e5d62e6de29ba5e2b4e6d2658545}{squeaker\_\-note\_\-set} (\hyperlink{structsqueaker__private__t}{squeaker\_\-t} squeaker, \hyperlink{squeaker_8h_a7b43c8687f6f16238c4f77f848f5bb8}{squeaker\_\-period\_\-t} period, \hyperlink{squeaker_8h_a7b43c8687f6f16238c4f77f848f5bb8}{squeaker\_\-period\_\-t} duty)
\item 
static void \hyperlink{squeaker_8c_7f257b4371c0e6ddf18b6a0e027eadcc}{squeaker\_\-rest\_\-play} (\hyperlink{structsqueaker__private__t}{squeaker\_\-t} squeaker)
\item 
static void \hyperlink{squeaker_8c_ca821eafadce6e2c49bd39c6cd8fa199}{squeaker\_\-note\_\-play} (\hyperlink{structsqueaker__private__t}{squeaker\_\-t} squeaker, \hyperlink{squeaker_8h_46ca3479167b2633f896dcbbbacefd57}{squeaker\_\-note\_\-t} note)
\item 
static \hyperlink{squeaker_8h_46ca3479167b2633f896dcbbbacefd57}{squeaker\_\-note\_\-t} \hyperlink{squeaker_8c_423996c09a292a4e6bd94aab6f0bd9f2}{squeaker\_\-char\_\-to\_\-note} (uint8\_\-t ch)
\item 
static const char $\ast$ \hyperlink{squeaker_8c_3c2e4d959ab2a75c015b27ed24a45a1a}{squeaker\_\-scan} (\hyperlink{structsqueaker__private__t}{squeaker\_\-t} squeaker, const char $\ast$str)
\item 
void \hyperlink{squeaker_8c_733f828b6525ee925505c958e322280f}{squeaker\_\-play} (\hyperlink{structsqueaker__private__t}{squeaker\_\-t} squeaker, const char $\ast$str)
\item 
void \hyperlink{squeaker_8c_5562006d702d17615c7db8bcf0760059}{squeaker\_\-speed\_\-set} (\hyperlink{structsqueaker__private__t}{squeaker\_\-t} squeaker, \hyperlink{squeaker_8h_4cc7534d62566009c93b46ffc3c23b2a}{squeaker\_\-speed\_\-t} speed)
\item 
void \hyperlink{squeaker_8c_5bdf076d8fa998c077f17d4e22c54d82}{squeaker\_\-volume\_\-set} (\hyperlink{structsqueaker__private__t}{squeaker\_\-t} squeaker, \hyperlink{squeaker_8h_ff6ff3c497a073fb9081c6f0873060c4}{squeaker\_\-volume\_\-t} volume)
\item 
int8\_\-t \hyperlink{squeaker_8c_63e4a851bf704c0dd9e7e394905ff94c}{squeaker\_\-update} (\hyperlink{structsqueaker__private__t}{squeaker\_\-t} squeaker)
\item 
\hyperlink{structsqueaker__private__t}{squeaker\_\-t} \hyperlink{squeaker_8c_0cf1bbc0d356b83d8fa3f4ce2ccced6e}{squeaker\_\-init} (\hyperlink{structsqueaker__private__t}{squeaker\_\-obj\_\-t} $\ast$squeaker, uint16\_\-t poll\_\-rate, \hyperlink{squeaker_8h_62cacde75ab4085a503fc8f252addd06}{squeaker\_\-scale\_\-t} $\ast$scale\_\-table)
\end{CompactItemize}


\subsection{Detailed Description}
Play simple tunes with PWM. 

\begin{Desc}
\item[Author:]M. P. Hayes, UCECE \end{Desc}
\begin{Desc}
\item[Date:]14 April 2007 \end{Desc}


\subsection{Define Documentation}
\hypertarget{squeaker_8c_64e265bfb9832f1871c3fc85cf523eb2}{
\index{squeaker.c@{squeaker.c}!SQUEAKER\_\-HOLDOFF\_\-TIME@{SQUEAKER\_\-HOLDOFF\_\-TIME}}
\index{SQUEAKER\_\-HOLDOFF\_\-TIME@{SQUEAKER\_\-HOLDOFF\_\-TIME}!squeaker.c@{squeaker.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define SQUEAKER\_\-HOLDOFF\_\-TIME~50e-3}}
\label{squeaker_8c_64e265bfb9832f1871c3fc85cf523eb2}




Referenced by squeaker\_\-init().\hypertarget{squeaker_8c_843a1a590f3636349d8cb46ac24a57ca}{
\index{squeaker.c@{squeaker.c}!SQUEAKER\_\-TRANSPARENT@{SQUEAKER\_\-TRANSPARENT}}
\index{SQUEAKER\_\-TRANSPARENT@{SQUEAKER\_\-TRANSPARENT}!squeaker.c@{squeaker.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define SQUEAKER\_\-TRANSPARENT~1}}
\label{squeaker_8c_843a1a590f3636349d8cb46ac24a57ca}




\subsection{Enumeration Type Documentation}
\hypertarget{squeaker_8c_a156d1cebb38c8a65846c4d9c006012a}{
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}}
\label{squeaker_8c_a156d1cebb38c8a65846c4d9c006012a}


\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{SQUEAKER\_\-PRESCALER@{SQUEAKER\_\-PRESCALER}!squeaker.c@{squeaker.c}}\index{squeaker.c@{squeaker.c}!SQUEAKER\_\-PRESCALER@{SQUEAKER\_\-PRESCALER}}\item[{\em 
\hypertarget{squeaker_8c_a156d1cebb38c8a65846c4d9c006012a9e1af00ba855cddd70ae1a86ef2744b9}{
SQUEAKER\_\-PRESCALER}
\label{squeaker_8c_a156d1cebb38c8a65846c4d9c006012a9e1af00ba855cddd70ae1a86ef2744b9}
}]\end{description}
\end{Desc}

\hypertarget{squeaker_8c_f8654c714018c6241d9ebd01f3fb5a26}{
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}}
\label{squeaker_8c_f8654c714018c6241d9ebd01f3fb5a26}


\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{SQUEAKER\_\-SCALE\_\-SIZE@{SQUEAKER\_\-SCALE\_\-SIZE}!squeaker.c@{squeaker.c}}\index{squeaker.c@{squeaker.c}!SQUEAKER\_\-SCALE\_\-SIZE@{SQUEAKER\_\-SCALE\_\-SIZE}}\item[{\em 
\hypertarget{squeaker_8c_f8654c714018c6241d9ebd01f3fb5a26d9f92ed9983e3f39157090defbd5d836}{
SQUEAKER\_\-SCALE\_\-SIZE}
\label{squeaker_8c_f8654c714018c6241d9ebd01f3fb5a26d9f92ed9983e3f39157090defbd5d836}
}]\end{description}
\end{Desc}



\subsection{Function Documentation}
\hypertarget{squeaker_8c_423996c09a292a4e6bd94aab6f0bd9f2}{
\index{squeaker.c@{squeaker.c}!squeaker\_\-char\_\-to\_\-note@{squeaker\_\-char\_\-to\_\-note}}
\index{squeaker\_\-char\_\-to\_\-note@{squeaker\_\-char\_\-to\_\-note}!squeaker.c@{squeaker.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static {\bf squeaker\_\-note\_\-t} squeaker\_\-char\_\-to\_\-note (uint8\_\-t {\em ch})\hspace{0.3cm}{\tt  \mbox{[}static\mbox{]}}}}
\label{squeaker_8c_423996c09a292a4e6bd94aab6f0bd9f2}




Referenced by squeaker\_\-scan().\hypertarget{squeaker_8c_0cf1bbc0d356b83d8fa3f4ce2ccced6e}{
\index{squeaker.c@{squeaker.c}!squeaker\_\-init@{squeaker\_\-init}}
\index{squeaker\_\-init@{squeaker\_\-init}!squeaker.c@{squeaker.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf squeaker\_\-t} squeaker\_\-init ({\bf squeaker\_\-obj\_\-t} $\ast$ {\em squeaker}, \/  uint16\_\-t {\em poll\_\-rate}, \/  {\bf squeaker\_\-scale\_\-t} $\ast$ {\em scale\_\-table})}}
\label{squeaker_8c_0cf1bbc0d356b83d8fa3f4ce2ccced6e}


\hypertarget{squeaker_8c_58ff31ca6f4fa41ced1d18c18b3012fc}{
\index{squeaker.c@{squeaker.c}!squeaker\_\-note\_\-fraction\_\-set@{squeaker\_\-note\_\-fraction\_\-set}}
\index{squeaker\_\-note\_\-fraction\_\-set@{squeaker\_\-note\_\-fraction\_\-set}!squeaker.c@{squeaker.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void squeaker\_\-note\_\-fraction\_\-set ({\bf squeaker\_\-t} {\em squeaker}, \/  uint8\_\-t {\em note\_\-fraction})\hspace{0.3cm}{\tt  \mbox{[}static\mbox{]}}}}
\label{squeaker_8c_58ff31ca6f4fa41ced1d18c18b3012fc}




References squeaker\_\-private\_\-t::note\_\-fraction, and squeaker\_\-ticker\_\-set().

Referenced by squeaker\_\-play(), and squeaker\_\-scan().\hypertarget{squeaker_8c_ca821eafadce6e2c49bd39c6cd8fa199}{
\index{squeaker.c@{squeaker.c}!squeaker\_\-note\_\-play@{squeaker\_\-note\_\-play}}
\index{squeaker\_\-note\_\-play@{squeaker\_\-note\_\-play}!squeaker.c@{squeaker.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void squeaker\_\-note\_\-play ({\bf squeaker\_\-t} {\em squeaker}, \/  {\bf squeaker\_\-note\_\-t} {\em note})\hspace{0.3cm}{\tt  \mbox{[}static\mbox{]}}}}
\label{squeaker_8c_ca821eafadce6e2c49bd39c6cd8fa199}




References squeaker\_\-private\_\-t::scale\_\-table, SQUEAKER\_\-NOTE\_\-MIN, squeaker\_\-note\_\-set(), SQUEAKER\_\-SCALE\_\-SIZE, and squeaker\_\-private\_\-t::volume.

Referenced by squeaker\_\-scan().\hypertarget{squeaker_8c_bae1e5d62e6de29ba5e2b4e6d2658545}{
\index{squeaker.c@{squeaker.c}!squeaker\_\-note\_\-set@{squeaker\_\-note\_\-set}}
\index{squeaker\_\-note\_\-set@{squeaker\_\-note\_\-set}!squeaker.c@{squeaker.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void squeaker\_\-note\_\-set ({\bf squeaker\_\-t} {\em squeaker}, \/  {\bf squeaker\_\-period\_\-t} {\em period}, \/  {\bf squeaker\_\-period\_\-t} {\em duty})}}
\label{squeaker_8c_bae1e5d62e6de29ba5e2b4e6d2658545}




References squeaker\_\-private\_\-t::holdoff, squeaker\_\-private\_\-t::note\_\-duty, squeaker\_\-private\_\-t::note\_\-holdoff, and squeaker\_\-private\_\-t::note\_\-period.

Referenced by squeaker\_\-note\_\-play(), and squeaker\_\-rest\_\-play().\hypertarget{squeaker_8c_733f828b6525ee925505c958e322280f}{
\index{squeaker.c@{squeaker.c}!squeaker\_\-play@{squeaker\_\-play}}
\index{squeaker\_\-play@{squeaker\_\-play}!squeaker.c@{squeaker.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void squeaker\_\-play ({\bf squeaker\_\-t} {\em squeaker}, \/  const char $\ast$ {\em str})}}
\label{squeaker_8c_733f828b6525ee925505c958e322280f}




References squeaker\_\-private\_\-t::cur, squeaker\_\-private\_\-t::loop\_\-count, squeaker\_\-private\_\-t::loop\_\-start, squeaker\_\-private\_\-t::octave, squeaker\_\-note\_\-fraction\_\-set(), SQUEAKER\_\-OCTAVE\_\-DEFAULT, and squeaker\_\-private\_\-t::start.

Referenced by squeaker\_\-init().\hypertarget{squeaker_8c_7f257b4371c0e6ddf18b6a0e027eadcc}{
\index{squeaker.c@{squeaker.c}!squeaker\_\-rest\_\-play@{squeaker\_\-rest\_\-play}}
\index{squeaker\_\-rest\_\-play@{squeaker\_\-rest\_\-play}!squeaker.c@{squeaker.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void squeaker\_\-rest\_\-play ({\bf squeaker\_\-t} {\em squeaker})\hspace{0.3cm}{\tt  \mbox{[}static\mbox{]}}}}
\label{squeaker_8c_7f257b4371c0e6ddf18b6a0e027eadcc}




References squeaker\_\-note\_\-set().

Referenced by squeaker\_\-scan().\hypertarget{squeaker_8c_3c2e4d959ab2a75c015b27ed24a45a1a}{
\index{squeaker.c@{squeaker.c}!squeaker\_\-scan@{squeaker\_\-scan}}
\index{squeaker\_\-scan@{squeaker\_\-scan}!squeaker.c@{squeaker.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static const char$\ast$ squeaker\_\-scan ({\bf squeaker\_\-t} {\em squeaker}, \/  const char $\ast$ {\em str})\hspace{0.3cm}{\tt  \mbox{[}static\mbox{]}}}}
\label{squeaker_8c_3c2e4d959ab2a75c015b27ed24a45a1a}




References squeaker\_\-private\_\-t::loop\_\-count, squeaker\_\-private\_\-t::loop\_\-start, squeaker\_\-private\_\-t::octave, squeaker\_\-char\_\-to\_\-note(), squeaker\_\-note\_\-fraction\_\-set(), squeaker\_\-note\_\-play(), squeaker\_\-rest\_\-play(), SQUEAKER\_\-SCALE\_\-SIZE, squeaker\_\-speed\_\-set(), and squeaker\_\-private\_\-t::start.

Referenced by squeaker\_\-update().\hypertarget{squeaker_8c_5562006d702d17615c7db8bcf0760059}{
\index{squeaker.c@{squeaker.c}!squeaker\_\-speed\_\-set@{squeaker\_\-speed\_\-set}}
\index{squeaker\_\-speed\_\-set@{squeaker\_\-speed\_\-set}!squeaker.c@{squeaker.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void squeaker\_\-speed\_\-set ({\bf squeaker\_\-t} {\em squeaker}, \/  {\bf squeaker\_\-speed\_\-t} {\em speed})}}
\label{squeaker_8c_5562006d702d17615c7db8bcf0760059}




References squeaker\_\-private\_\-t::speed, and squeaker\_\-ticker\_\-set().

Referenced by squeaker\_\-init(), and squeaker\_\-scan().\hypertarget{squeaker_8c_93589f2e5c21b5730ea24ada909679d6}{
\index{squeaker.c@{squeaker.c}!squeaker\_\-ticker\_\-set@{squeaker\_\-ticker\_\-set}}
\index{squeaker\_\-ticker\_\-set@{squeaker\_\-ticker\_\-set}!squeaker.c@{squeaker.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void squeaker\_\-ticker\_\-set ({\bf squeaker\_\-t} {\em squeaker})\hspace{0.3cm}{\tt  \mbox{[}static\mbox{]}}}}
\label{squeaker_8c_93589f2e5c21b5730ea24ada909679d6}




References squeaker\_\-private\_\-t::note\_\-fraction, squeaker\_\-private\_\-t::poll\_\-rate, squeaker\_\-private\_\-t::speed, SQUEAKER\_\-PRESCALER, squeaker\_\-private\_\-t::ticker, and TICKER\_\-INIT.

Referenced by squeaker\_\-note\_\-fraction\_\-set(), and squeaker\_\-speed\_\-set().\hypertarget{squeaker_8c_63e4a851bf704c0dd9e7e394905ff94c}{
\index{squeaker.c@{squeaker.c}!squeaker\_\-update@{squeaker\_\-update}}
\index{squeaker\_\-update@{squeaker\_\-update}!squeaker.c@{squeaker.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int8\_\-t squeaker\_\-update ({\bf squeaker\_\-t} {\em squeaker})}}
\label{squeaker_8c_63e4a851bf704c0dd9e7e394905ff94c}




References squeaker\_\-private\_\-t::cur, squeaker\_\-private\_\-t::note\_\-clock, squeaker\_\-private\_\-t::note\_\-duty, squeaker\_\-private\_\-t::note\_\-holdoff, squeaker\_\-private\_\-t::note\_\-period, squeaker\_\-private\_\-t::prescaler, squeaker\_\-scan(), squeaker\_\-private\_\-t::ticker, and TICKER\_\-UPDATE.\hypertarget{squeaker_8c_5bdf076d8fa998c077f17d4e22c54d82}{
\index{squeaker.c@{squeaker.c}!squeaker\_\-volume\_\-set@{squeaker\_\-volume\_\-set}}
\index{squeaker\_\-volume\_\-set@{squeaker\_\-volume\_\-set}!squeaker.c@{squeaker.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void squeaker\_\-volume\_\-set ({\bf squeaker\_\-t} {\em squeaker}, \/  {\bf squeaker\_\-volume\_\-t} {\em volume})}}
\label{squeaker_8c_5bdf076d8fa998c077f17d4e22c54d82}




References squeaker\_\-private\_\-t::volume.