\hypertarget{squeaker_8h}{
\section{squeaker.h File Reference}
\label{squeaker_8h}\index{squeaker.h@{squeaker.h}}
}
Play simple tunes with PWM. 

{\tt \#include \char`\"{}config.h\char`\"{}}\par
{\tt \#include \char`\"{}font.h\char`\"{}}\par
{\tt \#include \char`\"{}ticker.h\char`\"{}}\par
\subsection*{Data Structures}
\begin{CompactItemize}
\item 
struct \hyperlink{structsqueaker__private__t}{squeaker\_\-private\_\-t}
\end{CompactItemize}
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define \hyperlink{squeaker_8h_654d09012c084c791ab550b9129d034b}{SQUEAKER\_\-DIVISOR}(POLL\_\-RATE, FREQ)~(POLL\_\-RATE / FREQ + 0.5)
\item 
\#define \hyperlink{squeaker_8h_89398dd7ac876b11da44fd87621de52a}{SQUEAKER\_\-SCALE\_\-TABLE}(POLL\_\-RATE)
\end{CompactItemize}
\subsection*{Typedefs}
\begin{CompactItemize}
\item 
typedef uint8\_\-t \hyperlink{squeaker_8h_4cc7534d62566009c93b46ffc3c23b2a}{squeaker\_\-speed\_\-t}
\item 
typedef uint8\_\-t \hyperlink{squeaker_8h_62cacde75ab4085a503fc8f252addd06}{squeaker\_\-scale\_\-t}
\item 
typedef uint8\_\-t \hyperlink{squeaker_8h_46ca3479167b2633f896dcbbbacefd57}{squeaker\_\-note\_\-t}
\item 
typedef uint8\_\-t \hyperlink{squeaker_8h_8a17207951cce5e58f86db1723cfcdb8}{squeaker\_\-duration\_\-t}
\item 
typedef uint8\_\-t \hyperlink{squeaker_8h_a7b43c8687f6f16238c4f77f848f5bb8}{squeaker\_\-period\_\-t}
\item 
typedef uint8\_\-t \hyperlink{squeaker_8h_ff6ff3c497a073fb9081c6f0873060c4}{squeaker\_\-volume\_\-t}
\item 
typedef \hyperlink{structsqueaker__private__t}{squeaker\_\-private\_\-t} \hyperlink{squeaker_8h_ee51e1f1b6a38dd6154e0298e412e6e3}{squeaker\_\-obj\_\-t}
\item 
typedef \hyperlink{structsqueaker__private__t}{squeaker\_\-obj\_\-t} $\ast$ \hyperlink{squeaker_8h_f3f740a6046d8481db8b3faef767cffc}{squeaker\_\-t}
\end{CompactItemize}
\subsection*{Enumerations}
\begin{CompactItemize}
\item 
enum \{ \hyperlink{squeaker_8h_2f80701c36e79c0640d91c788feee0b37086672290c21aa61e1b231bdd7eea34}{SQUEAKER\_\-OCTAVE\_\-DEFAULT} =  4
 \}
\item 
enum \{ \hyperlink{squeaker_8h_531c35e38ede3ea4e5ba5afb24b294933a6fbea7a5900b0893bc8d76f26257f7}{SQUEAKER\_\-SPEED\_\-DEFAULT} =  200
 \}
\item 
enum \{ \hyperlink{squeaker_8h_9334a5b9057f32da96db9b5c6a045d67475299a244f21ccfb5a770d442f26b95}{SQUEAKER\_\-NOTE\_\-MIN} =  40
 \}
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
\hyperlink{structsqueaker__private__t}{squeaker\_\-t} \hyperlink{squeaker_8h_493a32875a2c3aae9aee97653455832b}{squeaker\_\-init} (\hyperlink{structsqueaker__private__t}{squeaker\_\-obj\_\-t} $\ast$dev, uint16\_\-t poll\_\-rate, \hyperlink{squeaker_8h_62cacde75ab4085a503fc8f252addd06}{squeaker\_\-scale\_\-t} $\ast$scale\_\-table)
\item 
void \hyperlink{squeaker_8h_733f828b6525ee925505c958e322280f}{squeaker\_\-play} (\hyperlink{structsqueaker__private__t}{squeaker\_\-t} squeaker, const char $\ast$str)
\item 
int8\_\-t \hyperlink{squeaker_8h_63e4a851bf704c0dd9e7e394905ff94c}{squeaker\_\-update} (\hyperlink{structsqueaker__private__t}{squeaker\_\-t} squeaker)
\item 
void \hyperlink{squeaker_8h_5562006d702d17615c7db8bcf0760059}{squeaker\_\-speed\_\-set} (\hyperlink{structsqueaker__private__t}{squeaker\_\-t} squeaker, \hyperlink{squeaker_8h_4cc7534d62566009c93b46ffc3c23b2a}{squeaker\_\-speed\_\-t} speed)
\item 
void \hyperlink{squeaker_8h_5bdf076d8fa998c077f17d4e22c54d82}{squeaker\_\-volume\_\-set} (\hyperlink{structsqueaker__private__t}{squeaker\_\-t} squeaker, \hyperlink{squeaker_8h_ff6ff3c497a073fb9081c6f0873060c4}{squeaker\_\-volume\_\-t} volume)
\end{CompactItemize}


\subsection{Detailed Description}
Play simple tunes with PWM. 

\begin{Desc}
\item[Author:]M. P. Hayes, UCECE \end{Desc}
\begin{Desc}
\item[Date:]14 April 2007 \end{Desc}


\subsection{Define Documentation}
\hypertarget{squeaker_8h_654d09012c084c791ab550b9129d034b}{
\index{squeaker.h@{squeaker.h}!SQUEAKER\_\-DIVISOR@{SQUEAKER\_\-DIVISOR}}
\index{SQUEAKER\_\-DIVISOR@{SQUEAKER\_\-DIVISOR}!squeaker.h@{squeaker.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define SQUEAKER\_\-DIVISOR(POLL\_\-RATE, \/  FREQ)~(POLL\_\-RATE / FREQ + 0.5)}}
\label{squeaker_8h_654d09012c084c791ab550b9129d034b}


\hypertarget{squeaker_8h_89398dd7ac876b11da44fd87621de52a}{
\index{squeaker.h@{squeaker.h}!SQUEAKER\_\-SCALE\_\-TABLE@{SQUEAKER\_\-SCALE\_\-TABLE}}
\index{SQUEAKER\_\-SCALE\_\-TABLE@{SQUEAKER\_\-SCALE\_\-TABLE}!squeaker.h@{squeaker.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define SQUEAKER\_\-SCALE\_\-TABLE(POLL\_\-RATE)}}
\label{squeaker_8h_89398dd7ac876b11da44fd87621de52a}


\textbf{Value:}

\begin{Code}\begin{verbatim}{SQUEAKER_DIVISOR (POLL_RATE, 82.41), \
    SQUEAKER_DIVISOR (POLL_RATE, 87.31), \
    SQUEAKER_DIVISOR (POLL_RATE, 92.50), \
    SQUEAKER_DIVISOR (POLL_RATE, 98.00), \
    SQUEAKER_DIVISOR (POLL_RATE, 103.83), \
    SQUEAKER_DIVISOR (POLL_RATE, 110.0), \
    SQUEAKER_DIVISOR (POLL_RATE, 116.54), \
    SQUEAKER_DIVISOR (POLL_RATE, 123.47), \
    SQUEAKER_DIVISOR (POLL_RATE, 130.81), \
    SQUEAKER_DIVISOR (POLL_RATE, 138.59), \
    SQUEAKER_DIVISOR (POLL_RATE, 146.83), \
    SQUEAKER_DIVISOR (POLL_RATE, 155.56)}
\end{verbatim}
\end{Code}


\subsection{Typedef Documentation}
\hypertarget{squeaker_8h_8a17207951cce5e58f86db1723cfcdb8}{
\index{squeaker.h@{squeaker.h}!squeaker\_\-duration\_\-t@{squeaker\_\-duration\_\-t}}
\index{squeaker\_\-duration\_\-t@{squeaker\_\-duration\_\-t}!squeaker.h@{squeaker.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef uint8\_\-t {\bf squeaker\_\-duration\_\-t}}}
\label{squeaker_8h_8a17207951cce5e58f86db1723cfcdb8}


\hypertarget{squeaker_8h_46ca3479167b2633f896dcbbbacefd57}{
\index{squeaker.h@{squeaker.h}!squeaker\_\-note\_\-t@{squeaker\_\-note\_\-t}}
\index{squeaker\_\-note\_\-t@{squeaker\_\-note\_\-t}!squeaker.h@{squeaker.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef uint8\_\-t {\bf squeaker\_\-note\_\-t}}}
\label{squeaker_8h_46ca3479167b2633f896dcbbbacefd57}


\hypertarget{squeaker_8h_ee51e1f1b6a38dd6154e0298e412e6e3}{
\index{squeaker.h@{squeaker.h}!squeaker\_\-obj\_\-t@{squeaker\_\-obj\_\-t}}
\index{squeaker\_\-obj\_\-t@{squeaker\_\-obj\_\-t}!squeaker.h@{squeaker.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf squeaker\_\-private\_\-t} {\bf squeaker\_\-obj\_\-t}}}
\label{squeaker_8h_ee51e1f1b6a38dd6154e0298e412e6e3}


\hypertarget{squeaker_8h_a7b43c8687f6f16238c4f77f848f5bb8}{
\index{squeaker.h@{squeaker.h}!squeaker\_\-period\_\-t@{squeaker\_\-period\_\-t}}
\index{squeaker\_\-period\_\-t@{squeaker\_\-period\_\-t}!squeaker.h@{squeaker.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef uint8\_\-t {\bf squeaker\_\-period\_\-t}}}
\label{squeaker_8h_a7b43c8687f6f16238c4f77f848f5bb8}


\hypertarget{squeaker_8h_62cacde75ab4085a503fc8f252addd06}{
\index{squeaker.h@{squeaker.h}!squeaker\_\-scale\_\-t@{squeaker\_\-scale\_\-t}}
\index{squeaker\_\-scale\_\-t@{squeaker\_\-scale\_\-t}!squeaker.h@{squeaker.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef uint8\_\-t {\bf squeaker\_\-scale\_\-t}}}
\label{squeaker_8h_62cacde75ab4085a503fc8f252addd06}


\hypertarget{squeaker_8h_4cc7534d62566009c93b46ffc3c23b2a}{
\index{squeaker.h@{squeaker.h}!squeaker\_\-speed\_\-t@{squeaker\_\-speed\_\-t}}
\index{squeaker\_\-speed\_\-t@{squeaker\_\-speed\_\-t}!squeaker.h@{squeaker.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef uint8\_\-t {\bf squeaker\_\-speed\_\-t}}}
\label{squeaker_8h_4cc7534d62566009c93b46ffc3c23b2a}


\hypertarget{squeaker_8h_f3f740a6046d8481db8b3faef767cffc}{
\index{squeaker.h@{squeaker.h}!squeaker\_\-t@{squeaker\_\-t}}
\index{squeaker\_\-t@{squeaker\_\-t}!squeaker.h@{squeaker.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf squeaker\_\-obj\_\-t}$\ast$ {\bf squeaker\_\-t}}}
\label{squeaker_8h_f3f740a6046d8481db8b3faef767cffc}


\hypertarget{squeaker_8h_ff6ff3c497a073fb9081c6f0873060c4}{
\index{squeaker.h@{squeaker.h}!squeaker\_\-volume\_\-t@{squeaker\_\-volume\_\-t}}
\index{squeaker\_\-volume\_\-t@{squeaker\_\-volume\_\-t}!squeaker.h@{squeaker.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef uint8\_\-t {\bf squeaker\_\-volume\_\-t}}}
\label{squeaker_8h_ff6ff3c497a073fb9081c6f0873060c4}




\subsection{Enumeration Type Documentation}
\hypertarget{squeaker_8h_2f80701c36e79c0640d91c788feee0b3}{
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}}
\label{squeaker_8h_2f80701c36e79c0640d91c788feee0b3}


\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{SQUEAKER\_\-OCTAVE\_\-DEFAULT@{SQUEAKER\_\-OCTAVE\_\-DEFAULT}!squeaker.h@{squeaker.h}}\index{squeaker.h@{squeaker.h}!SQUEAKER\_\-OCTAVE\_\-DEFAULT@{SQUEAKER\_\-OCTAVE\_\-DEFAULT}}\item[{\em 
\hypertarget{squeaker_8h_2f80701c36e79c0640d91c788feee0b37086672290c21aa61e1b231bdd7eea34}{
SQUEAKER\_\-OCTAVE\_\-DEFAULT}
\label{squeaker_8h_2f80701c36e79c0640d91c788feee0b37086672290c21aa61e1b231bdd7eea34}
}]\end{description}
\end{Desc}

\hypertarget{squeaker_8h_531c35e38ede3ea4e5ba5afb24b29493}{
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}}
\label{squeaker_8h_531c35e38ede3ea4e5ba5afb24b29493}


\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{SQUEAKER\_\-SPEED\_\-DEFAULT@{SQUEAKER\_\-SPEED\_\-DEFAULT}!squeaker.h@{squeaker.h}}\index{squeaker.h@{squeaker.h}!SQUEAKER\_\-SPEED\_\-DEFAULT@{SQUEAKER\_\-SPEED\_\-DEFAULT}}\item[{\em 
\hypertarget{squeaker_8h_531c35e38ede3ea4e5ba5afb24b294933a6fbea7a5900b0893bc8d76f26257f7}{
SQUEAKER\_\-SPEED\_\-DEFAULT}
\label{squeaker_8h_531c35e38ede3ea4e5ba5afb24b294933a6fbea7a5900b0893bc8d76f26257f7}
}]\end{description}
\end{Desc}

\hypertarget{squeaker_8h_9334a5b9057f32da96db9b5c6a045d67}{
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}}
\label{squeaker_8h_9334a5b9057f32da96db9b5c6a045d67}


\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{SQUEAKER\_\-NOTE\_\-MIN@{SQUEAKER\_\-NOTE\_\-MIN}!squeaker.h@{squeaker.h}}\index{squeaker.h@{squeaker.h}!SQUEAKER\_\-NOTE\_\-MIN@{SQUEAKER\_\-NOTE\_\-MIN}}\item[{\em 
\hypertarget{squeaker_8h_9334a5b9057f32da96db9b5c6a045d67475299a244f21ccfb5a770d442f26b95}{
SQUEAKER\_\-NOTE\_\-MIN}
\label{squeaker_8h_9334a5b9057f32da96db9b5c6a045d67475299a244f21ccfb5a770d442f26b95}
}]\end{description}
\end{Desc}



\subsection{Function Documentation}
\hypertarget{squeaker_8h_493a32875a2c3aae9aee97653455832b}{
\index{squeaker.h@{squeaker.h}!squeaker\_\-init@{squeaker\_\-init}}
\index{squeaker\_\-init@{squeaker\_\-init}!squeaker.h@{squeaker.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf squeaker\_\-t} squeaker\_\-init ({\bf squeaker\_\-obj\_\-t} $\ast$ {\em dev}, \/  uint16\_\-t {\em poll\_\-rate}, \/  {\bf squeaker\_\-scale\_\-t} $\ast$ {\em scale\_\-table})}}
\label{squeaker_8h_493a32875a2c3aae9aee97653455832b}




References squeaker\_\-private\_\-t::holdoff, squeaker\_\-private\_\-t::note\_\-duty, squeaker\_\-private\_\-t::note\_\-period, squeaker\_\-private\_\-t::poll\_\-rate, squeaker\_\-private\_\-t::prescaler, squeaker\_\-private\_\-t::scale\_\-table, SQUEAKER\_\-HOLDOFF\_\-TIME, squeaker\_\-play(), SQUEAKER\_\-PRESCALER, SQUEAKER\_\-SPEED\_\-DEFAULT, squeaker\_\-speed\_\-set(), and squeaker\_\-private\_\-t::volume.\hypertarget{squeaker_8h_733f828b6525ee925505c958e322280f}{
\index{squeaker.h@{squeaker.h}!squeaker\_\-play@{squeaker\_\-play}}
\index{squeaker\_\-play@{squeaker\_\-play}!squeaker.h@{squeaker.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void squeaker\_\-play ({\bf squeaker\_\-t} {\em squeaker}, \/  const char $\ast$ {\em str})}}
\label{squeaker_8h_733f828b6525ee925505c958e322280f}




References squeaker\_\-private\_\-t::cur, squeaker\_\-private\_\-t::loop\_\-count, squeaker\_\-private\_\-t::loop\_\-start, squeaker\_\-private\_\-t::octave, squeaker\_\-note\_\-fraction\_\-set(), SQUEAKER\_\-OCTAVE\_\-DEFAULT, and squeaker\_\-private\_\-t::start.

Referenced by squeaker\_\-init().\hypertarget{squeaker_8h_5562006d702d17615c7db8bcf0760059}{
\index{squeaker.h@{squeaker.h}!squeaker\_\-speed\_\-set@{squeaker\_\-speed\_\-set}}
\index{squeaker\_\-speed\_\-set@{squeaker\_\-speed\_\-set}!squeaker.h@{squeaker.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void squeaker\_\-speed\_\-set ({\bf squeaker\_\-t} {\em squeaker}, \/  {\bf squeaker\_\-speed\_\-t} {\em speed})}}
\label{squeaker_8h_5562006d702d17615c7db8bcf0760059}




References squeaker\_\-private\_\-t::speed, and squeaker\_\-ticker\_\-set().

Referenced by squeaker\_\-init(), and squeaker\_\-scan().\hypertarget{squeaker_8h_63e4a851bf704c0dd9e7e394905ff94c}{
\index{squeaker.h@{squeaker.h}!squeaker\_\-update@{squeaker\_\-update}}
\index{squeaker\_\-update@{squeaker\_\-update}!squeaker.h@{squeaker.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int8\_\-t squeaker\_\-update ({\bf squeaker\_\-t} {\em squeaker})}}
\label{squeaker_8h_63e4a851bf704c0dd9e7e394905ff94c}




References squeaker\_\-private\_\-t::cur, squeaker\_\-private\_\-t::note\_\-clock, squeaker\_\-private\_\-t::note\_\-duty, squeaker\_\-private\_\-t::note\_\-holdoff, squeaker\_\-private\_\-t::note\_\-period, squeaker\_\-private\_\-t::prescaler, squeaker\_\-scan(), squeaker\_\-private\_\-t::ticker, and TICKER\_\-UPDATE.\hypertarget{squeaker_8h_5bdf076d8fa998c077f17d4e22c54d82}{
\index{squeaker.h@{squeaker.h}!squeaker\_\-volume\_\-set@{squeaker\_\-volume\_\-set}}
\index{squeaker\_\-volume\_\-set@{squeaker\_\-volume\_\-set}!squeaker.h@{squeaker.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void squeaker\_\-volume\_\-set ({\bf squeaker\_\-t} {\em squeaker}, \/  {\bf squeaker\_\-volume\_\-t} {\em volume})}}
\label{squeaker_8h_5bdf076d8fa998c077f17d4e22c54d82}




References squeaker\_\-private\_\-t::volume.