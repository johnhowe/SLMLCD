\hypertarget{mu1wire_8c}{
\section{mu1wire.c File Reference}
\label{mu1wire_8c}\index{mu1wire.c@{mu1wire.c}}
}
{\tt \#include $<$stdio.h$>$}\par
{\tt \#include \char`\"{}config.h\char`\"{}}\par
{\tt \#include \char`\"{}delay.h\char`\"{}}\par
{\tt \#include \char`\"{}u1wire.h\char`\"{}}\par
{\tt \#include \char`\"{}irq.h\char`\"{}}\par
{\tt \#include \char`\"{}port.h\char`\"{}}\par
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define \hyperlink{mu1wire_8c_735bc6b384c59bab6e3c4ef47cb18a36}{U1WIRE\_\-DEBUG}~1
\item 
\#define \hyperlink{mu1wire_8c_0f7c1165c720662e8e063f598f7adb97}{U1WIRE\_\-RELEASE}()~port\_\-pin\_\-config\_\-pullup (U1WIRE\_\-PORT, U1WIRE\_\-BIT)
\item 
\#define \hyperlink{mu1wire_8c_8de09058cefbe519406bed0273d9a229}{U1WIRE\_\-DRIVE}()
\item 
\#define \hyperlink{mu1wire_8c_92bf5dd6f187ffde9fd8b5dbf2195922}{U1WIRE\_\-TEST}()~port\_\-pin\_\-read (U1WIRE\_\-PORT, U1WIRE\_\-BIT)
\end{CompactItemize}
\subsection*{Enumerations}
\begin{CompactItemize}
\item 
enum \{ \hyperlink{mu1wire_8c_39fca1837c5ce7715cbf571669660c136963599d052ecb018cdd80d656550d6a}{U1WIRE\_\-READ\_\-ROM} =  0x33, 
\hyperlink{mu1wire_8c_39fca1837c5ce7715cbf571669660c132ed6444f12af682e595c732ddd71d76e}{U1WIRE\_\-SKIP\_\-ROM} =  0xcc, 
\hyperlink{mu1wire_8c_39fca1837c5ce7715cbf571669660c1311bdf5cabbb8011ecbcf875f2fc13a40}{U1WIRE\_\-MATCH\_\-ROM} =  0x55, 
\hyperlink{mu1wire_8c_39fca1837c5ce7715cbf571669660c1339857ccf7972316185323cc9a7b08b4a}{U1WIRE\_\-RECALL} =  0xb8
 \}
\item 
enum \{ \hyperlink{mu1wire_8c_af8fd5f0e57d456151c951e0f3715fc42a52afdd267a4564453465c6f7619b3d}{U1WIRE\_\-DELAY\_\-OFFSET} =  6, 
\hyperlink{mu1wire_8c_af8fd5f0e57d456151c951e0f3715fc4da36f0538742693d32b40e5801717764}{U1WIRE\_\-ADDR\_\-BYTES} =  6
 \}
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
int8\_\-t \hyperlink{mu1wire_8c_fefc92288deb7e6638c7eccee340376b}{u1wire\_\-reset} (void)
\item 
void \hyperlink{mu1wire_8c_396b2c2a03fe9d6d30b5a6104d968d91}{u1wire\_\-bit\_\-write} (uint8\_\-t value)
\item 
void \hyperlink{mu1wire_8c_fe3fdd50fbc17820ba234683a50eee97}{u1wire\_\-byte\_\-write} (uint8\_\-t value)
\item 
uint8\_\-t \hyperlink{mu1wire_8c_81248b7029b0bba2925ff395f4f28c84}{u1wire\_\-bit\_\-read} (void)
\item 
uint8\_\-t \hyperlink{mu1wire_8c_b60c227540a8ab2f79ce49227e1bb48b}{u1wire\_\-byte\_\-read} (void)
\item 
int8\_\-t \hyperlink{mu1wire_8c_a34f1a0453f939a14edff828cf92836d}{u1wire\_\-rom\_\-code\_\-read} (\hyperlink{structu1wire__obj__t}{u1wire\_\-t} dev)
\item 
int8\_\-t \hyperlink{mu1wire_8c_c5962c09caed92394ad54c93621b9f1f}{u1wire\_\-command} (\hyperlink{structu1wire__obj__t}{u1wire\_\-t} dev, uint8\_\-t command)
\item 
int8\_\-t \hyperlink{mu1wire_8c_576198d4478882d49d4c6d6f6b7091c1}{u1wire\_\-broadcast} (uint8\_\-t command)
\item 
int8\_\-t \hyperlink{mu1wire_8c_412e23dd0d190219ffd98a3061076a18}{u1wire\_\-read} (\hyperlink{structu1wire__obj__t}{u1wire\_\-t} dev, void $\ast$data, uint8\_\-t bytes)
\item 
int8\_\-t \hyperlink{mu1wire_8c_2e10ba14712ab35907796f8f8208fdbb}{u1wire\_\-write} (\hyperlink{structu1wire__obj__t}{u1wire\_\-t} dev, void $\ast$data, uint8\_\-t bytes)
\item 
bool \hyperlink{mu1wire_8c_342ecd2bb7a5b36f1f47f6b8ec6e6d44}{u1wire\_\-ready\_\-p} (void)
\item 
int8\_\-t \hyperlink{mu1wire_8c_6b89331fe6a3f1527a2d0404869f7777}{u1wire\_\-init} (\hyperlink{structu1wire__obj__t}{u1wire\_\-obj\_\-t} $\ast$devices, uint8\_\-t devices\_\-max)
\end{CompactItemize}


\subsection{Define Documentation}
\hypertarget{mu1wire_8c_735bc6b384c59bab6e3c4ef47cb18a36}{
\index{mu1wire.c@{mu1wire.c}!U1WIRE\_\-DEBUG@{U1WIRE\_\-DEBUG}}
\index{U1WIRE\_\-DEBUG@{U1WIRE\_\-DEBUG}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define U1WIRE\_\-DEBUG~1}}
\label{mu1wire_8c_735bc6b384c59bab6e3c4ef47cb18a36}


\hypertarget{mu1wire_8c_8de09058cefbe519406bed0273d9a229}{
\index{mu1wire.c@{mu1wire.c}!U1WIRE\_\-DRIVE@{U1WIRE\_\-DRIVE}}
\index{U1WIRE\_\-DRIVE@{U1WIRE\_\-DRIVE}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define U1WIRE\_\-DRIVE()}}
\label{mu1wire_8c_8de09058cefbe519406bed0273d9a229}


\textbf{Value:}

\begin{Code}\begin{verbatim}do {port_pin_config_output (U1WIRE_PORT, U1WIRE_BIT); \
        port_pin_set_low (U1WIRE_PORT, U1WIRE_BIT);} while (0)
\end{verbatim}
\end{Code}


Referenced by u1wire\_\-bit\_\-read(), u1wire\_\-bit\_\-write(), and u1wire\_\-reset().\hypertarget{mu1wire_8c_0f7c1165c720662e8e063f598f7adb97}{
\index{mu1wire.c@{mu1wire.c}!U1WIRE\_\-RELEASE@{U1WIRE\_\-RELEASE}}
\index{U1WIRE\_\-RELEASE@{U1WIRE\_\-RELEASE}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define U1WIRE\_\-RELEASE()~port\_\-pin\_\-config\_\-pullup (U1WIRE\_\-PORT, U1WIRE\_\-BIT)}}
\label{mu1wire_8c_0f7c1165c720662e8e063f598f7adb97}




Referenced by u1wire\_\-bit\_\-read(), u1wire\_\-bit\_\-write(), u1wire\_\-init(), and u1wire\_\-reset().\hypertarget{mu1wire_8c_92bf5dd6f187ffde9fd8b5dbf2195922}{
\index{mu1wire.c@{mu1wire.c}!U1WIRE\_\-TEST@{U1WIRE\_\-TEST}}
\index{U1WIRE\_\-TEST@{U1WIRE\_\-TEST}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define U1WIRE\_\-TEST()~port\_\-pin\_\-read (U1WIRE\_\-PORT, U1WIRE\_\-BIT)}}
\label{mu1wire_8c_92bf5dd6f187ffde9fd8b5dbf2195922}




Referenced by u1wire\_\-bit\_\-read(), and u1wire\_\-reset().

\subsection{Enumeration Type Documentation}
\hypertarget{mu1wire_8c_39fca1837c5ce7715cbf571669660c13}{
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}}
\label{mu1wire_8c_39fca1837c5ce7715cbf571669660c13}


\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{U1WIRE\_\-READ\_\-ROM@{U1WIRE\_\-READ\_\-ROM}!mu1wire.c@{mu1wire.c}}\index{mu1wire.c@{mu1wire.c}!U1WIRE\_\-READ\_\-ROM@{U1WIRE\_\-READ\_\-ROM}}\item[{\em 
\hypertarget{mu1wire_8c_39fca1837c5ce7715cbf571669660c136963599d052ecb018cdd80d656550d6a}{
U1WIRE\_\-READ\_\-ROM}
\label{mu1wire_8c_39fca1837c5ce7715cbf571669660c136963599d052ecb018cdd80d656550d6a}
}]\index{U1WIRE\_\-SKIP\_\-ROM@{U1WIRE\_\-SKIP\_\-ROM}!mu1wire.c@{mu1wire.c}}\index{mu1wire.c@{mu1wire.c}!U1WIRE\_\-SKIP\_\-ROM@{U1WIRE\_\-SKIP\_\-ROM}}\item[{\em 
\hypertarget{mu1wire_8c_39fca1837c5ce7715cbf571669660c132ed6444f12af682e595c732ddd71d76e}{
U1WIRE\_\-SKIP\_\-ROM}
\label{mu1wire_8c_39fca1837c5ce7715cbf571669660c132ed6444f12af682e595c732ddd71d76e}
}]\index{U1WIRE\_\-MATCH\_\-ROM@{U1WIRE\_\-MATCH\_\-ROM}!mu1wire.c@{mu1wire.c}}\index{mu1wire.c@{mu1wire.c}!U1WIRE\_\-MATCH\_\-ROM@{U1WIRE\_\-MATCH\_\-ROM}}\item[{\em 
\hypertarget{mu1wire_8c_39fca1837c5ce7715cbf571669660c1311bdf5cabbb8011ecbcf875f2fc13a40}{
U1WIRE\_\-MATCH\_\-ROM}
\label{mu1wire_8c_39fca1837c5ce7715cbf571669660c1311bdf5cabbb8011ecbcf875f2fc13a40}
}]\index{U1WIRE\_\-RECALL@{U1WIRE\_\-RECALL}!mu1wire.c@{mu1wire.c}}\index{mu1wire.c@{mu1wire.c}!U1WIRE\_\-RECALL@{U1WIRE\_\-RECALL}}\item[{\em 
\hypertarget{mu1wire_8c_39fca1837c5ce7715cbf571669660c1339857ccf7972316185323cc9a7b08b4a}{
U1WIRE\_\-RECALL}
\label{mu1wire_8c_39fca1837c5ce7715cbf571669660c1339857ccf7972316185323cc9a7b08b4a}
}]\end{description}
\end{Desc}

\hypertarget{mu1wire_8c_af8fd5f0e57d456151c951e0f3715fc4}{
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}}
\label{mu1wire_8c_af8fd5f0e57d456151c951e0f3715fc4}


\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{U1WIRE\_\-DELAY\_\-OFFSET@{U1WIRE\_\-DELAY\_\-OFFSET}!mu1wire.c@{mu1wire.c}}\index{mu1wire.c@{mu1wire.c}!U1WIRE\_\-DELAY\_\-OFFSET@{U1WIRE\_\-DELAY\_\-OFFSET}}\item[{\em 
\hypertarget{mu1wire_8c_af8fd5f0e57d456151c951e0f3715fc42a52afdd267a4564453465c6f7619b3d}{
U1WIRE\_\-DELAY\_\-OFFSET}
\label{mu1wire_8c_af8fd5f0e57d456151c951e0f3715fc42a52afdd267a4564453465c6f7619b3d}
}]\index{U1WIRE\_\-ADDR\_\-BYTES@{U1WIRE\_\-ADDR\_\-BYTES}!mu1wire.c@{mu1wire.c}}\index{mu1wire.c@{mu1wire.c}!U1WIRE\_\-ADDR\_\-BYTES@{U1WIRE\_\-ADDR\_\-BYTES}}\item[{\em 
\hypertarget{mu1wire_8c_af8fd5f0e57d456151c951e0f3715fc4da36f0538742693d32b40e5801717764}{
U1WIRE\_\-ADDR\_\-BYTES}
\label{mu1wire_8c_af8fd5f0e57d456151c951e0f3715fc4da36f0538742693d32b40e5801717764}
}]\end{description}
\end{Desc}



\subsection{Function Documentation}
\hypertarget{mu1wire_8c_81248b7029b0bba2925ff395f4f28c84}{
\index{mu1wire.c@{mu1wire.c}!u1wire\_\-bit\_\-read@{u1wire\_\-bit\_\-read}}
\index{u1wire\_\-bit\_\-read@{u1wire\_\-bit\_\-read}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t u1wire\_\-bit\_\-read (void)}}
\label{mu1wire_8c_81248b7029b0bba2925ff395f4f28c84}


Read a bit from the one wire bus. \begin{Desc}
\item[Returns:]bit read \end{Desc}


Referenced by u1wire\_\-byte\_\-read(), u1wire\_\-ready\_\-p(), and u1wire\_\-search().\hypertarget{mu1wire_8c_396b2c2a03fe9d6d30b5a6104d968d91}{
\index{mu1wire.c@{mu1wire.c}!u1wire\_\-bit\_\-write@{u1wire\_\-bit\_\-write}}
\index{u1wire\_\-bit\_\-write@{u1wire\_\-bit\_\-write}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void u1wire\_\-bit\_\-write (uint8\_\-t {\em value})}}
\label{mu1wire_8c_396b2c2a03fe9d6d30b5a6104d968d91}


Write a bit on the one wire bus. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em value}]bit to write \end{description}
\end{Desc}


Referenced by u1wire\_\-byte\_\-write(), and u1wire\_\-search().\hypertarget{mu1wire_8c_576198d4478882d49d4c6d6f6b7091c1}{
\index{mu1wire.c@{mu1wire.c}!u1wire\_\-broadcast@{u1wire\_\-broadcast}}
\index{u1wire\_\-broadcast@{u1wire\_\-broadcast}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int8\_\-t u1wire\_\-broadcast (uint8\_\-t {\em command})}}
\label{mu1wire_8c_576198d4478882d49d4c6d6f6b7091c1}


Broadcast command to all devices on one wire bus. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em command}]command to send \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]1 if OK, 0 if no device responding, negative if error \end{Desc}
\hypertarget{mu1wire_8c_b60c227540a8ab2f79ce49227e1bb48b}{
\index{mu1wire.c@{mu1wire.c}!u1wire\_\-byte\_\-read@{u1wire\_\-byte\_\-read}}
\index{u1wire\_\-byte\_\-read@{u1wire\_\-byte\_\-read}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t u1wire\_\-byte\_\-read (void)}}
\label{mu1wire_8c_b60c227540a8ab2f79ce49227e1bb48b}


Read a byte from the one wire bus. \begin{Desc}
\item[Returns:]byte read \end{Desc}


Referenced by u1wire\_\-read().\hypertarget{mu1wire_8c_fe3fdd50fbc17820ba234683a50eee97}{
\index{mu1wire.c@{mu1wire.c}!u1wire\_\-byte\_\-write@{u1wire\_\-byte\_\-write}}
\index{u1wire\_\-byte\_\-write@{u1wire\_\-byte\_\-write}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void u1wire\_\-byte\_\-write (uint8\_\-t {\em value})}}
\label{mu1wire_8c_fe3fdd50fbc17820ba234683a50eee97}


Write a byte on the one wire bus. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em value}]byte to write. \end{description}
\end{Desc}


Referenced by ds2450\_\-memory\_\-write(), u1wire\_\-broadcast(), u1wire\_\-command(), u1wire\_\-rom\_\-code\_\-read(), u1wire\_\-search(), and u1wire\_\-write().\hypertarget{mu1wire_8c_c5962c09caed92394ad54c93621b9f1f}{
\index{mu1wire.c@{mu1wire.c}!u1wire\_\-command@{u1wire\_\-command}}
\index{u1wire\_\-command@{u1wire\_\-command}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int8\_\-t u1wire\_\-command ({\bf u1wire\_\-t} {\em dev}, \/  uint8\_\-t {\em command})}}
\label{mu1wire_8c_c5962c09caed92394ad54c93621b9f1f}


Send command to selected device on one wire bus. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em dev}]pointer to one wire device structure \item[{\em command}]command to send \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]1 if OK, 0 if no device responding, negative if error \end{Desc}


Referenced by ds18b20\_\-temp\_\-conversion\_\-start(), ds18b20\_\-temp\_\-read(), ds2450\_\-adc\_\-conversion\_\-start(), ds2450\_\-memory\_\-read(), and ds2450\_\-memory\_\-write().\hypertarget{mu1wire_8c_6b89331fe6a3f1527a2d0404869f7777}{
\index{mu1wire.c@{mu1wire.c}!u1wire\_\-init@{u1wire\_\-init}}
\index{u1wire\_\-init@{u1wire\_\-init}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int8\_\-t u1wire\_\-init ({\bf u1wire\_\-obj\_\-t} $\ast$ {\em devices}, \/  uint8\_\-t {\em devices\_\-max})}}
\label{mu1wire_8c_6b89331fe6a3f1527a2d0404869f7777}




References U1WIRE\_\-ERR\_\-MULTIPLE\_\-DEVICES, U1WIRE\_\-RELEASE, and u1wire\_\-rom\_\-code\_\-read().\hypertarget{mu1wire_8c_412e23dd0d190219ffd98a3061076a18}{
\index{mu1wire.c@{mu1wire.c}!u1wire\_\-read@{u1wire\_\-read}}
\index{u1wire\_\-read@{u1wire\_\-read}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int8\_\-t u1wire\_\-read ({\bf u1wire\_\-t} {\em dev}, \/  void $\ast$ {\em data}, \/  uint8\_\-t {\em bytes})}}
\label{mu1wire_8c_412e23dd0d190219ffd98a3061076a18}




References u1wire\_\-byte\_\-read().

Referenced by ds18b20\_\-temp\_\-read(), ds2450\_\-adc\_\-conversion\_\-start(), ds2450\_\-memory\_\-read(), ds2450\_\-memory\_\-write(), and u1wire\_\-rom\_\-code\_\-read().\hypertarget{mu1wire_8c_342ecd2bb7a5b36f1f47f6b8ec6e6d44}{
\index{mu1wire.c@{mu1wire.c}!u1wire\_\-ready\_\-p@{u1wire\_\-ready\_\-p}}
\index{u1wire\_\-ready\_\-p@{u1wire\_\-ready\_\-p}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool u1wire\_\-ready\_\-p (void)}}
\label{mu1wire_8c_342ecd2bb7a5b36f1f47f6b8ec6e6d44}


Determine if one wire bus operation has completed. \begin{Desc}
\item[Returns:]1 if one wire bus operation has completed otherwise 0 \end{Desc}


Referenced by ds18b20\_\-temp\_\-ready\_\-p(), and ds2450\_\-adc\_\-ready\_\-p().\hypertarget{mu1wire_8c_fefc92288deb7e6638c7eccee340376b}{
\index{mu1wire.c@{mu1wire.c}!u1wire\_\-reset@{u1wire\_\-reset}}
\index{u1wire\_\-reset@{u1wire\_\-reset}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int8\_\-t u1wire\_\-reset (void)}}
\label{mu1wire_8c_fefc92288deb7e6638c7eccee340376b}


Reset one wire bus. \begin{Desc}
\item[Returns:]1 if OK, 0 if no device responding, negative if error \end{Desc}


Referenced by u1wire\_\-broadcast(), u1wire\_\-command(), u1wire\_\-rom\_\-code\_\-read(), and u1wire\_\-search().\hypertarget{mu1wire_8c_a34f1a0453f939a14edff828cf92836d}{
\index{mu1wire.c@{mu1wire.c}!u1wire\_\-rom\_\-code\_\-read@{u1wire\_\-rom\_\-code\_\-read}}
\index{u1wire\_\-rom\_\-code\_\-read@{u1wire\_\-rom\_\-code\_\-read}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int8\_\-t u1wire\_\-rom\_\-code\_\-read ({\bf u1wire\_\-t} {\em dev})}}
\label{mu1wire_8c_a34f1a0453f939a14edff828cf92836d}




References u1wire\_\-obj\_\-t::rom\_\-code, u1wire\_\-byte\_\-write(), u1wire\_\-read(), U1WIRE\_\-READ\_\-ROM, U1WIRE\_\-RECALL, and u1wire\_\-reset().

Referenced by u1wire\_\-init().\hypertarget{mu1wire_8c_2e10ba14712ab35907796f8f8208fdbb}{
\index{mu1wire.c@{mu1wire.c}!u1wire\_\-write@{u1wire\_\-write}}
\index{u1wire\_\-write@{u1wire\_\-write}!mu1wire.c@{mu1wire.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int8\_\-t u1wire\_\-write ({\bf u1wire\_\-t} {\em dev}, \/  void $\ast$ {\em data}, \/  uint8\_\-t {\em bytes})}}
\label{mu1wire_8c_2e10ba14712ab35907796f8f8208fdbb}




References u1wire\_\-byte\_\-write().

Referenced by ds2450\_\-adc\_\-conversion\_\-start(), ds2450\_\-memory\_\-read(), ds2450\_\-memory\_\-write(), and u1wire\_\-command().